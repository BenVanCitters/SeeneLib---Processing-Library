/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.9 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/**
 * @license AngularJS v1.2.0-rc.2
 * (c) 2010-2012 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * @license AngularJS v1.2.0-rc.3
 * (c) 2010-2012 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * @license
 * Lo-Dash 1.3.1 <http://lodash.com/>
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * Available under MIT license <http://lodash.com/license>
 */

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/*!
 * Modernizr v2.6.2
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */

/*! HTML5 Shiv v3.6.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */

//! moment.js
//! version : 2.4.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t!="string"?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function v(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function m(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,m=t&&t.split("/"),g=m,y=o.map,b=y&&y["*"];e&&e.charAt(0)==="."&&(t?(getOwn(o.pkgs,t)?g=m=[t]:g=m.slice(0,m.length-1),e=g.concat(e.split("/")),v(e),i=getOwn(o.pkgs,r=e[0]),e=e.join("/"),i&&e===r+"/"+i.main&&(e=r)):e.indexOf("./")===0&&(e=e.substring(2)));if(n&&y&&(m||b)){u=e.split("/");for(a=u.length;a>0;a-=1){l=u.slice(0,a).join("/");if(m)for(f=m.length;f>0;f-=1){s=getOwn(y,m.slice(0,f).join("/"));if(s){s=getOwn(s,l);if(s){c=s,h=a;break}}}if(c)break;!p&&b&&getOwn(b,l)&&(p=getOwn(b,l),d=a)}!c&&p&&(c=p,h=d),c&&(u.splice(0,h,c),e=u.join("/"))}return e}function g(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function y(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.require([e]),!0}function b(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function w(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,v=!0,g="";return e||(v=!1,e="_@r"+(p+=1)),a=b(e),f=a[0],e=a[1],f&&(f=m(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?g=o.normalize(e,function(e){return m(e,l,i)}):g=m(e,l,i):(g=m(e,l,i),a=b(g),f=a[0],g=a[1],n=!0,s=r.nameToUrl(g))),u=f&&!o&&!n?"_unnormalized"+(d+=1):"",{prefix:f,name:g,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:v,id:(f?f+"!"+g:g)+u}}function E(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function S(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=E(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function x(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function T(){globalDefQueue.length&&(apsp.apply(l,[l.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function N(e){delete u[e],delete a[e]}function C(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):C(o,t,n))}),n[r]=!0)}function k(){var e,n,i,u,f=o.waitSeconds*1e3,l=f&&r.startTime+f<(new Date).getTime(),c=[],h=[],p=!1,d=!0;if(t)return;t=!0,eachProp(a,function(t){e=t.map,n=e.id;if(!t.enabled)return;e.isDefine||h.push(t);if(!t.error)if(!t.inited&&l)y(n)?(u=!0,p=!0):(c.push(n),g(n));else if(!t.inited&&t.fetched&&e.isDefine){p=!0;if(!e.prefix)return d=!1}});if(l&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=r.contextName,x(i);d&&each(h,function(e){C(e,{},{})}),(!l||u)&&p&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,k()},50)),t=!1}function L(e){hasProp(c,e[0])||E(w(e[0],null,!0)).init(e[1],e[2])}function A(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function O(e){var t=e.currentTarget||e.srcElement;return A(t,r.onScriptLoad,"load","onreadystatechange"),A(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function M(){var e;T();while(l.length){e=l.shift();if(e[0]===null)return x(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));L(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p=1,d=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(o.pkgs,e.map.id);return t=n?getOwn(o.config,e.map.id+"/"+n.main):getOwn(o.config,e.map.id),t||{}},exports:c[e.map.id]}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&(t=this.module,t&&t.exports!==undefined&&t.exports!==this.exports?s=t.exports:s===undefined&&this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",x(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),N(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=w(e.prefix);this.depMaps.push(n),S(n,"defined",bind(this,function(n){var i,s,a,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,c=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(f=n.normalize(f,function(e){return m(e,l,!0)})||""),s=w(e.prefix+"!"+f,this.map.parentMap),S(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&N(e.map.id)}),x(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=w(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),E(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return x(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),c([u],i)}),n.load(e.name,c,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=w(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,S(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&S(e,"error",bind(this,this.errback))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:w,nextTick:req.nextTick,onError:x,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.pkgs,n=o.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?t==="map"?(o.map||(o.map={}),mixin(o[t],e,!0,!0)):mixin(o[t],e,!0):o[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),n[t]=e}),o.shim=n),e.packages&&(each(e.packages,function(e){var n;e=typeof e=="string"?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),o.pkgs=t),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=w(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?x(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=w(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:x(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(M(),r.nextTick(function(){M(),p=E(w(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),k()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(m(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,w(e,t,!1,!0).id)},specified:function(e){return e=w(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){T();var n=w(e,t,!0),r=getOwn(u,e);g(e),delete c[e],delete h[n.url],delete f[e],r&&(r.events.defined&&(f[e]=r.events),N(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&E(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;T();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);L(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(y(e))return;return x(makeError("nodefine","No define call for "+e,null,[e]))}L([e,i.deps||[],i.exportsFn])}k()},nameToUrl:function(e,t,n){var r,i,s,u,a,f,l,c,h;if(req.jsExtRegExp.test(e))c=e+(t||"");else{r=o.paths,i=o.pkgs,a=e.split("/");for(f=a.length;f>0;f-=1){l=a.slice(0,f).join("/"),s=getOwn(i,l),h=getOwn(r,l);if(h){isArray(h)&&(h=h[0]),a.splice(0,f,h);break}if(s){e===s.name?u=s.location+"/"+s.main:u=s.location,a.splice(0,f,u);break}}c=a.join("/"),c+=t||(/^data\:|\?/.test(c)||n?"":".js"),c=(c.charAt(0)==="/"||c.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+c}return o.urlArgs?c+((c.indexOf("?")===-1?"?":"&")+o.urlArgs):c},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=O(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=O(e);if(!y(t.id))return x(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.9",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requireLib",function(){}),define("angular",[],function(){return window.angular||{}}),function(e,t,n){function i(e,t,n){r.directive(e,["$parse","$swipe",function(r,i){var s=75,o=.3,u=30;return function(a,f,l){function d(e){if(!h)return!1;var n=Math.abs(e.y-h.y),r=(e.x-h.x)*t;return p&&n<s&&r>0&&r>u&&n/r<o}var c=r(l[e]),h,p;i.bind(f,{start:function(e){h=e,p=!0},cancel:function(){p=!1},end:function(e){d(e)&&a.$apply(function(){f.triggerHandler(n),c(a)})}})}}])}var r=t.module("ngTouch",[]);r.factory("$swipe",[function(){function t(e){var t=e.touches&&e.touches.length?e.touches:[e],n=e.changedTouches&&e.changedTouches[0]||e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]||t[0].originalEvent||t[0];return{x:n.clientX,y:n.clientY}}var e=10;return{bind:function(n,r){var i,s,o,u,a=!1;n.on("touchstart mousedown",function(e){o=t(e),a=!0,i=0,s=0,u=o,r.start&&r.start(o)}),n.on("touchcancel",function(e){a=!1,r.cancel&&r.cancel()}),n.on("touchmove mousemove",function(n){if(!a)return;if(!o)return;var f=t(n);i+=Math.abs(f.x-u.x),s+=Math.abs(f.y-u.y),u=f;if(i<e&&s<e)return;if(s>i){a=!1,r.cancel&&r.cancel();return}n.preventDefault(),r.move&&r.move(f)}),n.on("touchend mouseup",function(e){if(!a)return;a=!1,r.end&&r.end(t(e))})}}}]),r.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,r){function c(e,t,n,r){return Math.abs(e-n)<u&&Math.abs(t-r)<u}function h(e,t,n){for(var r=0;r<e.length;r+=2)if(c(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function p(e){if(Date.now()-f>o)return;var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,r=t[0].clientY;if(n<1&&r<1)return;if(h(l,n,r))return;e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur()}function d(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;l.push(r,i),n(function(){for(var e=0;e<l.length;e+=2)if(l[e]==r&&l[e+1]==i){l.splice(e,e+2);return}},o,!1)}function v(e,t){l||(r[0].addEventListener("click",p,!0),r[0].addEventListener("touchstart",d,!0),l=[]),f=Date.now(),h(l,e,t)}var i=750,s=12,o=2500,u=25,a="ng-click-active",f,l;return function(n,r,o){function d(){f=!1,r.removeClass(a)}var u=e(o.ngClick),f=!1,l,c,h,p;r.on("touchstart",function(e){f=!0,l=e.target?e.target:e.srcElement,l.nodeType==3&&(l=l.parentNode),r.addClass(a),c=Date.now();var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].originalEvent||t[0];h=n.clientX,p=n.clientY}),r.on("touchmove",function(e){d()}),r.on("touchcancel",function(e){d()}),r.on("touchend",function(e){var n=Date.now()-c,u=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],a=u[0].originalEvent||u[0],m=a.clientX,g=a.clientY,y=Math.sqrt(Math.pow(m-h,2)+Math.pow(g-p,2));f&&n<i&&y<s&&(v(m,g),l&&l.blur(),(!t.isDefined(o.disabled)||o.disabled===!1)&&r.triggerHandler("click",e)),d()}),r.onclick=function(e){},r.on("click",function(e){n.$apply(function(){u(n,{$event:e})})}),r.on("mousedown",function(e){r.addClass(a)}),r.on("mousemove mouseup",function(e){r.removeClass(a)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),define("ngTouch",["angular"],function(){}),function(e,t,n){function p(e,t){return s(new(s(function(){},{prototype:e})),t)}function v(){function t(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(e,t,n,r){var s=r==="?"?r:null,o=r==="*"?r:null;return i.push({name:n,optional:!!s}),t=t||"",""+(s?"":t)+"(?:"+(s?t:"")+(o&&"(.+)?"||"([^/]+)?")+")"+(s||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var e={};this.when=function(n,r){e[n]=s({reloadOnSearch:!0},r,n&&t(n,r));if(n){var i=n[n.length-1]=="/"?n.substr(0,n.length-1):n+"/";e[i]=s({redirectTo:n},t(i,r))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(t,n,l,c,h,d,v,m){function b(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var s=1,o=i.length;s<o;++s){var u=n[s-1],a="string"==typeof i[s]?decodeURIComponent(i[s]):i[s];u&&a&&(r[u.name]=a)}return r}function w(){var e=E(),p=y.current;if(e&&p&&e.$$route===p.$$route&&i(e.pathParams,p.pathParams)&&!e.reloadOnSearch&&!g)p.params=e.params,r(p.params,l),t.$broadcast("$routeUpdate",p);else if(e||p)g=!1,t.$broadcast("$routeChangeStart",e,p),y.current=e,e&&e.redirectTo&&(f(e.redirectTo)?n.path(S(e.redirectTo,e.params)).search(e.params).replace():n.url(e.redirectTo(e.pathParams,n.path(),n.search())).replace()),c.when(e).then(function(){if(e){var t=s({},e.resolve),n,r;return o(t,function(e,n){t[n]=f(e)?h.get(e):h.invoke(e)}),u(n=e.template)?a(n)&&(n=n(e.params)):u(r=e.templateUrl)&&(a(r)&&(r=r(e.params)),r=m.getTrustedResourceUrl(r),u(r)&&(e.loadedTemplateUrl=r,n=d.get(r,{cache:v}).then(function(e){return e.data}))),u(n)&&(t.$template=n),c.all(t)}}).then(function(n){e==y.current&&(e&&(e.locals=n,r(e.params,l)),t.$broadcast("$routeChangeSuccess",e,p))},function(n){e==y.current&&t.$broadcast("$routeChangeError",e,p,n)})}function E(){var t,r;return o(e,function(e,i){!r&&(t=b(n.path(),e))&&(r=p(e,{params:s({},n.search(),t),pathParams:t}),r.$$route=e)}),r||e[null]&&p(e[null],{params:{},pathParams:{}})}function S(e,t){var n=[];return o((e||"").split(":"),function(e,r){if(r===0)n.push(e);else{var i=e.match(/(\w+)(.*)/),s=i[1];n.push(t[s]),n.push(i[2]||""),delete t[s]}}),n.join("")}var g=!1,y={routes:e,reload:function(){g=!0,t.$evalAsync(w)}};return t.$on("$locationChangeSuccess",w),y}]}function m(){this.$get=function(){return{}}}function g(e,t,n,r,i){return{restrict:"ECA",terminal:!0,priority:1e3,transclude:"element",compile:function(s,o,u){return function(s,o,a){function h(){f&&(f.$destroy(),f=null),l&&(i.leave(l),l=null)}function p(){var a=e.current&&e.current.locals,p=a&&a.$template;if(p){var d=s.$new();u(d,function(s){h(),s.html(p),i.enter(s,null,o);var u=n(s.contents()),v=e.current;f=v.scope=d,l=s;if(v.controller){a.$scope=f;var m=r(v.controller,a);v.controllerAs&&(f[v.controllerAs]=m),s.data("$ngControllerController",m),s.contents().data("$ngControllerController",m)}u(f),f.$emit("$viewContentLoaded"),f.$eval(c),t()})}else h()}var f,l,c=a.onload||"";s.$on("$routeChangeSuccess",p),p()}}}}var r=t.copy,i=t.equals,s=t.extend,o=t.forEach,u=t.isDefined,a=t.isFunction,f=t.isString,l=t.element,c=t.noop,h=t.toJson,d=t.module("ngRoute",["ng"]).provider("$route",v);d.provider("$routeParams",m),d.directive("ngView",g),g.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]}(window,window.angular),define("ngRoute",["angular"],function(){}),function(e,t,n){t.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function(r,i){var s=t.noop,o=t.forEach,u=i.$$selectors,a="$$ngAnimateState",f="ng-animate",l={running:!0};r.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope",function(e,n,r,i,c,h){function p(e){if(e){var t=[],i={},s=e.substr(1).split(".");(r.transitions||r.animations)&&s.push("");for(var o=0;o<s.length;o++){var a=s[o],f=u[a];f&&!i[a]&&(t.push(n.get(f)),i[a]=!0)}return t}}function d(e,t,n,r,i,u){function w(e){d[e].done=!0,(d[e].endFn||s)();for(var t=0;t<d.length;t++)if(!d[t].done)return;E()}function E(){if(!E.hasBeenRun){E.hasBeenRun=!0;var e=n.data(a);e&&(b?g(n):(e.flagTimer=c(function(){g(n)},0,!1),n.data(a,e))),(u||s)()}}var l=(n.attr("class")||"")+" "+t,h=(" "+l).replace(/\s+/g,"."),d=[];o(p(h),function(t,n){d.push({start:t[e]})}),r||(r=i?i.parent():n.parent());var v={running:!0};if((r.inheritedData(a)||v).running||d.length==0){E();return}var y=n.data(a)||{},b=e=="addClass"||e=="removeClass";if(y.running){if(b&&y.structural){u&&u();return}c.cancel(y.flagTimer),m(y.animations),(y.done||s)()}n.data(a,{running:!0,structural:!b,animations:d,done:E}),n.addClass(f),o(d,function(e,r){var i=function(){w(r)};e.start?e.endFn=b?e.start(n,t,i):e.start(n,i):i()})}function v(e){t.forEach(e[0].querySelectorAll("."+f),function(e){e=t.element(e);var n=e.data(a);n&&(m(n.animations),g(e))})}function m(e){var t=!0;o(e,function(e){(e.endFn||s)(t)})}function g(e){e.removeClass(f),e.removeData(a)}return i.data(a,l),{enter:function(t,n,r,i){this.enabled(!1,t),e.enter(t,n,r),h.$$postDigest(function(){d("enter","ng-enter",t,n,r,function(){i&&c(i,0,!1)})})},leave:function(t,n){v(t),this.enabled(!1,t),h.$$postDigest(function(){d("leave","ng-leave",t,null,null,function(){e.leave(t,n)})})},move:function(t,n,r,i){v(t),this.enabled(!1,t),e.move(t,n,r),h.$$postDigest(function(){d("move","ng-move",t,null,null,function(){i&&c(i,0,!1)})})},addClass:function(t,n,r){d("addClass",n,t,null,null,function(){e.addClass(t,n,r)})},removeClass:function(t,n,r){d("removeClass",n,t,null,null,function(){e.removeClass(t,n,r)})},enabled:function(e,t){switch(arguments.length){case 2:if(e)g(t);else{var n=t.data(a)||{};n.structural=!0,n.running=!0,t.data(a,n)}break;case 1:l.running=!e;break;default:e=!l.running}return!!e}}}]),i.register("",["$window","$sniffer","$timeout",function(r,i,s){function S(e){b.push(e),s.cancel(w),w=s(function(){t.forEach(b,function(e){e()}),b=[],w=null,g={}},10,!1)}function x(e,t,n){var i=g[t];if(!i){var s=0,a=0,l=0,h=0;o(e,function(e){if(e.nodeType==v){var t=r.getComputedStyle(e)||{};s=Math.max(T(t[u+c]),s);if(!n){a=Math.max(T(t[u+p]),a),h=Math.max(T(t[f+p]),h);var i=T(t[f+c]);i>0&&(i*=parseInt(t[f+d])||1),l=Math.max(i,l)}}}),i={transitionDelay:a,animationDelay:h,transitionDuration:s,animationDuration:l},g[t]=i}return i}function T(e){var n=0,r=t.isString(e)?e.split(/\s*,\s*/):[];return o(r,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function N(e){var t=e.parent(),n=t.data(m);return n||(t.data(m,++y),n=y),n+"-"+e[0].className}function C(e,t,n){function m(e){e.stopPropagation();var t=e.originalEvent||e,r=t.$manualTimeStamp||t.timeStamp||Date.now();Math.max(r-c,0)>=f&&t.elapsedTime>=s&&n()}var r=N(e);if(x(e,r,!0).transitionDuration>0){n();return}e.addClass(t);var i=x(e,r+" "+t),s=Math.max(i.transitionDuration,i.animationDuration);if(s>0){var f=Math.max(i.transitionDelay,i.animationDelay)*1e3,c=Date.now(),p=e[0];i.transitionDuration>0&&(p.style[u+h]="none");var d="";o(t.split(" "),function(e,t){d+=(t>0?" ":"")+e+"-active"});var v=l+" "+a;return S(function(){i.transitionDuration>0&&(p.style[u+h]=""),e.addClass(d)}),e.on(v,m),function(i){e.off(v,m),e.removeClass(t),e.removeClass(d),i&&n()}}e.removeClass(t),n()}function k(e,n){var r="";return e=t.isArray(e)?e:e.split(/\s+/),o(e,function(e,t){e&&e.length>0&&(r+=(t>0?" ":"")+e+n)}),r}var o=t.forEach,u,a,f,l;e.ontransitionend===n&&e.onwebkittransitionend!==n?(u="WebkitTransition",a="webkitTransitionEnd transitionend"):(u="transition",a="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(f="WebkitAnimation",l="webkitAnimationEnd animationend"):(f="animation",l="animationend");var c="Duration",h="Property",p="Delay",d="IterationCount",v=1,m="$ngAnimateKey",g={},y=0,b=[],w,E=!1;return{enter:function(e,t){return C(e,"ng-enter",t)},leave:function(e,t){return C(e,"ng-leave",t)},move:function(e,t){return C(e,"ng-move",t)},addClass:function(e,t,n){return C(e,k(t,"-add"),n)},removeClass:function(e,t,n){return C(e,k(t,"-remove"),n)}}}])}])}(window,window.angular),define("ngAnimate",["angular"],function(){}),function(e){function R(e,t,n){var r=(n||0)-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function U(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null)return e[t];n!="number"&&n!="string"&&(n="object");var r=n=="number"?t:o+t;return e=e[n]||(e[n]={}),n=="object"?e[r]&&R(e[r],t)>-1?0:-1:e[r]?0:-1}function z(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null)t[e]=!0;else{n!="number"&&n!="string"&&(n="object");var r=n=="number"?e:o+e,i=t[n]||(t[n]={});n=="object"?(i[r]||(i[r]=[])).push(e)==this.array.length&&(t[n]=!1):i[r]=!0}}function W(e){return e.charCodeAt(0)}function X(e,t){var n=e.index,r=t.index;e=e.criteria,t=t.criteria;if(e!==t){if(e>t||typeof e=="undefined")return 1;if(e<t||typeof t=="undefined")return-1}return n<r?-1:1}function V(e){var t=-1,n=e.length,r=K();r["false"]=r["null"]=r["true"]=r["undefined"]=!1;var i=K();i.array=e,i.cache=r,i.push=z;while(++t<n)i.push(e[t]);return r.object===!1?(Z(i),null):i}function $(e){return"\\"+j[e]}function J(){return n.pop()||[]}function K(){return r.pop()||{args:"",array:null,bottom:"",cache:null,criteria:null,"false":!1,firstArg:"",index:0,init:"",leading:!1,loop:"",maxWait:0,"null":!1,number:null,object:null,push:null,shadowedProps:null,string:null,support:null,top:"",trailing:!1,"true":!1,"undefined":!1,useHas:!1,useKeys:!1,value:null}}function Q(e){return typeof e.toString!="function"&&typeof (e+"")=="string"}function G(){}function Y(e){e.length=0,n.length<a&&n.push(e)}function Z(e){var t=e.cache;t&&Z(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,r.length<a&&r.push(e)}function et(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function tt(n){function Rt(e){return e&&typeof e=="object"&&!rn(e)&&wt.call(e,"__wrapped__")?e:new Ut(e)}function Ut(e){this.__wrapped__=e}function Jt(e,t,n,r){function a(){var r=arguments,f=s?this:t;i||(e=t[o]),n.length&&(r=r.length?(r=Bt.call(r),u?r.concat(n):n.concat(r)):n);if(this instanceof a){f=Qt(e.prototype);var l=e.apply(f,r);return kn(l)?l:f}return e.apply(f,r)}var i=Cn(e),s=!n,o=t;if(s){var u=r;n=t}else if(!i){if(!r)throw new ut;t=e}return a}function Kt(){var e=K();e.shadowedProps=x,e.support=zt,e.array=e.bottom=e.loop=e.top="",e.init="iterable",e.useHas=!0,e.useKeys=!!on;for(var t,n=0;t=arguments[n];n++)for(var r in t)e[r]=t[r];var i=e.args;e.firstArg=/^[^,]+/.exec(i)[0];var s=q("errorClass, errorProto, hasOwnProperty, isArguments, isArray, isString, keys, lodash, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+Wt(e)+"\n}");return Z(e),s(A,ft,wt,nn,rn,Dn,on,Rt,lt,B,qt,P,ct,Nt)}function Qt(e){return kn(e)?kt(e):{}}function Gt(e){return an[e]}function Yt(e,t,n){var r=(r=Rt.indexOf)===dr?R:r;return r}function Zt(e){return function(n,r,i,s){return typeof r!="boolean"&&r!=null&&(s=i,i=!s||s[r]!==n?r:t,r=!1),i!=null&&(i=Rt.createCallback(i,s)),e(n,r,i,s)}}function en(e){var n,r;return!e||Nt.call(e)!=_||(n=e.constructor,Cn(n)&&!(n instanceof n))||!zt.argsClass&&nn(e)||!zt.nodeClass&&Q(e)?!1:zt.ownLast?(vn(e,function(e,t,n){return r=wt.call(n,t),!1}),r!==!1):(vn(e,function(e,t){r=t}),r===t||wt.call(e,r))}function tn(e){return fn[e]}function nn(e){return Nt.call(e)==N}function cn(e,n,r,i,s,o){var u=e;typeof n!="boolean"&&n!=null&&(i=r,r=n,n=!1);if(typeof r=="function"){r=typeof i=="undefined"?r:Rt.createCallback(r,i,1),u=r(u);if(typeof u!="undefined")return u;u=e}var a=kn(u);if(a){var f=Nt.call(u);if(!H[f]||!zt.nodeClass&&Q(u))return u;var l=rn(u)}if(!a||!n)return a?l?et(u):ln({},u):u;var c=It[f];switch(f){case k:case L:return new c(+u);case M:case P:return new c(u);case D:return c(u.source,d.exec(u))}var h=!s;s||(s=J()),o||(o=J());var p=s.length;while(p--)if(s[p]==e)return o[p];return u=l?c(u.length):{},l&&(wt.call(e,"index")&&(u.index=e.index),wt.call(e,"input")&&(u.input=e.input)),s.push(e),o.push(u),(l?un:mn)(e,function(e,i){u[i]=cn(e,n,r,t,s,o)}),h&&(Y(s),Y(o)),u}function hn(e,t,n){return cn(e,!0,t,n)}function dn(e,t,n){var r;return t=Rt.createCallback(t,n),mn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function gn(e){var t=[];return vn(e,function(e,n){Cn(e)&&t.push(n)}),t.sort()}function yn(e,t){return e?wt.call(e,t):!1}function bn(e){var t=-1,n=on(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function wn(e){return e===!0||e===!1||Nt.call(e)==k}function En(e){return e?typeof e=="object"&&Nt.call(e)==L:!1}function Sn(e){return e?e.nodeType===1:!1}function xn(e){var t=!0;if(!e)return t;var n=Nt.call(e),r=e.length;return n==C||n==P||(zt.argsClass?n==N:nn(e))||n==_&&typeof r=="number"&&Cn(e.splice)?!r:(mn(e,function(){return t=!1}),t)}function Tn(e,t,n,r,i,o){var u=n===s;if(typeof n=="function"&&!u){n=Rt.createCallback(n,r,2);var a=n(e,t);if(typeof a!="undefined")return!!a}if(e===t)return e!==0||1/e==1/t;var f=typeof e,l=typeof t;if(e===e&&(!e||f!="function"&&f!="object")&&(!t||l!="function"&&l!="object"))return!1;if(e==null||t==null)return e===t;var c=Nt.call(e),h=Nt.call(t);c==N&&(c=_),h==N&&(h=_);if(c!=h)return!1;switch(c){case k:case L:return+e==+t;case M:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case D:case P:return e==ot(t)}var p=c==C;if(!p){if(wt.call(e,"__wrapped__ ")||wt.call(t,"__wrapped__"))return Tn(e.__wrapped__||e,t.__wrapped__||t,n,r,i,o);if(c!=_||!zt.nodeClass&&(Q(e)||Q(t)))return!1;var d=!zt.argsObject&&nn(e)?it:e.constructor,v=!zt.argsObject&&nn(t)?it:t.constructor;if(d!=v&&!(Cn(d)&&d instanceof d&&Cn(v)&&v instanceof v))return!1}var m=!i;i||(i=J()),o||(o=J());var g=i.length;while(g--)if(i[g]==e)return o[g]==t;var y=0;a=!0,i.push(e),o.push(t);if(p){g=e.length,y=t.length,a=y==e.length;if(!a&&!u)return a;while(y--){var b=g,w=t[y];if(u){while(b--)if(a=Tn(e[b],w,n,r,i,o))break}else if(!(a=Tn(e[y],w,n,r,i,o)))break}return a}return vn(t,function(t,s,u){if(wt.call(u,s))return y++,a=wt.call(e,s)&&Tn(e[s],t,n,r,i,o)}),a&&!u&&vn(e,function(e,t,n){if(wt.call(n,t))return a=--y>-1}),m&&(Y(i),Y(o)),a}function Nn(e){return At(e)&&!Ot(parseFloat(e))}function Cn(e){return typeof e=="function"}function kn(e){return!!e&&!!B[typeof e]}function Ln(e){return On(e)&&e!=+e}function An(e){return e===null}function On(e){return typeof e=="number"||Nt.call(e)==M}function _n(e){return!!e&&!!B[typeof e]&&Nt.call(e)==D}function Dn(e){return typeof e=="string"||Nt.call(e)==P}function Pn(e){return typeof e=="undefined"}function Hn(e,t,n){var r=arguments,i=0,o=2;if(!kn(e))return e;if(n===s)var u=r[3],a=r[4],f=r[5];else{var l=!0;a=J(),f=J(),typeof n!="number"&&(o=r.length),o>3&&typeof r[o-2]=="function"?u=Rt.createCallback(r[--o-1],r[o--],2):o>2&&typeof r[o-1]=="function"&&(u=r[--o])}while(++i<o)(rn(r[i])?$n:mn)(r[i],function(t,n){var r,i,o=t,l=e[n];if(t&&((i=rn(t))||Mn(t))){var c=a.length;while(c--)if(r=a[c]==t){l=f[c];break}if(!r){var h;if(u){o=u(l,t);if(h=typeof o!="undefined")l=o}h||(l=i?rn(l)?l:[]:Mn(l)?l:{}),a.push(t),f.push(l),h||(l=Hn(l,t,s,u,a,f))}}else u&&(o=u(l,t),typeof o=="undefined"&&(o=t)),typeof o!="undefined"&&(l=o);e[n]=l});return l&&(Y(a),Y(f)),e}function Bn(e,t,n){var r=Yt(),i=typeof t=="function",s={};if(i)t=Rt.createCallback(t,n);else var o=mt.apply(at,Bt.call(arguments,1));return vn(e,function(e,n,u){if(i?!t(e,n,u):r(o,n)<0)s[n]=e}),s}function jn(e){var t=-1,n=on(e),i=n.length,s=r(i);while(++t<i){var o=n[t];s[t]=[o,e[o]]}return s}function Fn(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=mt.apply(at,Bt.call(arguments,1)),o=kn(e)?s.length:0;while(++i<o){var u=s[i];u in e&&(r[u]=e[u])}}else t=Rt.createCallback(t,n),vn(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function In(e,t,n,r){var i=rn(e);t=Rt.createCallback(t,r,4);if(n==null)if(i)n=[];else{var s=e&&e.constructor,o=s&&s.prototype;n=Qt(o)}return(i?un:mn)(e,function(e,r,i){return t(n,e,r,i)}),n}function qn(e){var t=-1,n=on(e),i=n.length,s=r(i);while(++t<i)s[t]=e[n[t]];return s}function Rn(e){var t=-1,n=mt.apply(at,Bt.call(arguments,1)),i=n.length,s=r(i);zt.unindexedChars&&Dn(e)&&(e=e.split(""));while(++t<i)s[t]=e[n[t]];return s}function Un(e,t,n){var r=-1,i=Yt(),s=e?e.length:0,o=!1;return n=(n<0?_t(0,s+n):n)||0,s&&typeof s=="number"?o=(Dn(e)?e.indexOf(t,n):i(e,t,n))>-1:un(e,function(e){if(++r>=n)return!(o=e===t)}),o}function zn(e,t,n){var r={};return t=Rt.createCallback(t,n),$n(e,function(e,n,i){n=ot(t(e,n,i)),wt.call(r,n)?r[n]++:r[n]=1}),r}function Wn(e,t,n){var r=!0;t=Rt.createCallback(t,n);if(rn(e)){var i=-1,s=e.length;while(++i<s)if(!(r=!!t(e[i],i,e)))break}else un(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Xn(e,t,n){var r=[];t=Rt.createCallback(t,n);if(rn(e)){var i=-1,s=e.length;while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}}else un(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Vn(e,t,n){t=Rt.createCallback(t,n);if(!rn(e)){var o;return un(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}var r=-1,i=e.length;while(++r<i){var s=e[r];if(t(s,r,e))return s}}function $n(e,t,n){if(t&&typeof n=="undefined"&&rn(e)){var r=-1,i=e.length;while(++r<i)if(t(e[r],r,e)===!1)break}else un(e,t,n);return e}function Jn(e,t,n){var r={};return t=Rt.createCallback(t,n),$n(e,function(e,n,i){n=ot(t(e,n,i)),(wt.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function Kn(e,t){var n=Bt.call(arguments,2),i=-1,s=typeof t=="function",o=e?e.length:0,u=r(typeof o=="number"?o:0);return $n(e,function(e){u[++i]=(s?t:e[t]).apply(e,n)}),u}function Qn(e,t,n){var i=-1,s=e?e.length:0,o=r(typeof s=="number"?s:0);t=Rt.createCallback(t,n);if(rn(e))while(++i<s)o[i]=t(e[i],i,e);else un(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function Gn(e,t,n){var r=-Infinity,i=r;if(!t&&rn(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=!t&&Dn(e)?W:Rt.createCallback(t,n),un(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function Yn(e,t,n){var r=Infinity,i=r;if(!t&&rn(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=!t&&Dn(e)?W:Rt.createCallback(t,n),un(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function er(e,t,n,r){var i=arguments.length<3;t=Rt.createCallback(t,r,4);if(rn(e)){var s=-1,o=e.length;i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else un(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function tr(e,t,n,r){var i=e,s=e?e.length:0,o=arguments.length<3;if(typeof s!="number"){var u=on(e);s=u.length}else zt.unindexedChars&&Dn(e)&&(i=e.split(""));return t=Rt.createCallback(t,r,4),$n(e,function(e,r,a){r=u?u[--s]:--s,n=o?(o=!1,i[r]):t(n,i[r],r,a)}),n}function nr(e,t,n){return t=Rt.createCallback(t,n),Xn(e,function(e,n,r){return!t(e,n,r)})}function rr(e){var t=-1,n=e?e.length:0,i=r(typeof n=="number"?n:0);return $n(e,function(e){var n=gt(Ht()*(++t+1));i[t]=i[n],i[n]=e}),i}function ir(e){var t=e?e.length:0;return typeof t=="number"?t:on(e).length}function sr(e,t,n){var r;t=Rt.createCallback(t,n);if(rn(e)){var i=-1,s=e.length;while(++i<s)if(r=t(e[i],i,e))break}else un(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function or(e,t,n){var i=-1,s=e?e.length:0,o=r(typeof s=="number"?s:0);t=Rt.createCallback(t,n),$n(e,function(e,n,r){var s=o[++i]=K();s.criteria=t(e,n,r),s.index=i,s.value=e}),s=o.length,o.sort(X);while(s--){var u=o[s];o[s]=u.value,Z(u)}return o}function ur(e){return e&&typeof e.length=="number"?zt.unindexedChars&&Dn(e)?e.split(""):et(e):qn(e)}function fr(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function lr(e){var t=-1,n=Yt(),r=e?e.length:0,i=mt.apply(at,Bt.call(arguments,1)),s=[],o=r>=u&&n===R;if(o){var a=V(i);a?(n=U,i=a):o=!1}while(++t<r){var f=e[t];n(i,f)<0&&s.push(f)}return o&&Z(i),s}function cr(e,t,n){var r=-1,i=e?e.length:0;t=Rt.createCallback(t,n);while(++r<i)if(t(e[r],r,e))return r;return-1}function hr(e,t,n){if(e){var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=-1;t=Rt.createCallback(t,n);while(++s<i&&t(e[s],s,e))r++}else{r=t;if(r==null||n)return e[0]}return et(e,0,Dt(_t(0,r),i))}}function dr(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?_t(0,r+n):n||0}else if(n){var i=Er(e,t);return e[i]===t?i:-1}return e?R(e,t,n):-1}function vr(e,t,n){if(!e)return[];var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=i;t=Rt.createCallback(t,n);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return et(e,0,Dt(_t(0,i-r),i))}function mr(e){var t=arguments,n=t.length,r=-1,i=J(),s=-1,o=Yt(),a=e?e.length:0,f=[],l=J();while(++r<n){var c=t[r];i[r]=o===R&&(c?c.length:0)>=u&&V(r?t[r]:l)}e:while(++s<a){var h=i[0];c=e[s];if((h?U(h,c):o(l,c))<0){r=n,(h||l).push(c);while(--r){h=i[r];if((h?U(h,c):o(t[r],c))<0)continue e}f.push(c)}}while(n--)h=i[n],h&&Z(h);return Y(i),Y(l),f}function gr(e,t,n){if(e){var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=i;t=Rt.createCallback(t,n);while(s--&&t(e[s],s,e))r++}else{r=t;if(r==null||n)return e[i-1]}return et(e,_t(0,i-r))}}function yr(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?_t(0,r+n):Dt(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function br(e,t,n){e=+e||0,n=+n||1,t==null&&(t=e,e=0);var i=-1,s=_t(0,dt((t-e)/n)),o=r(s);while(++i<s)o[i]=e,e+=n;return o}function wr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Rt.createCallback(t,n);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:_t(0,t);return et(e,r)}function Er(e,t,n,r){var i=0,s=e?e.length:i;n=n?Rt.createCallback(n,r,1):Wr,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Sr(e){return rn(e)||(arguments[0]=e?Bt.call(e):at),xr(mt.apply(at,arguments))}function Tr(e){var t=-1,n=e?Gn(Zn(e,"length")):0,i=r(n<0?0:n);while(++t<n)i[t]=Zn(e,t);return i}function Nr(e){return lr(e,Bt.call(arguments,1))}function Cr(e){return e?Tr(arguments):[]}function kr(e,t){var n=-1,r=e?e.length:0,i={};while(++n<r){var s=e[n];t?i[s]=t[n]:i[s[0]]=s[1]}return i}function Lr(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function Ar(e,t){return zt.fastBind||Ct&&arguments.length>2?Ct.call.apply(Ct,arguments):Jt(e,t,Bt.call(arguments,2))}function Or(e){var t=arguments.length>1?mt.apply(at,Bt.call(arguments,1)):gn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=Ar(e[i],e)}return e}function Mr(e,t){return Jt(e,t,Bt.call(arguments,2),s)}function _r(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function Dr(e,t,n){if(e==null)return Wr;var r=typeof e;if(r!="function"){if(r!="object")return function(t){return t[e]};var i=on(e);return function(t){var n=i.length,r=!1;while(n--)if(!(r=Tn(t[i[n]],e[i[n]],s)))break;return r}}return typeof t=="undefined"||m&&!m.test(yt.call(e))?e:n===1?function(n){return e.call(t,n)}:n===2?function(n,r){return e.call(t,n,r)}:n===4?function(n,r,i,s){return e.call(t,n,r,i,s)}:function(n,r,i){return e.call(t,n,r,i)}}function Pr(e,t,n){function h(){vt(f),vt(l),o=0,f=l=null}function p(){var t=c&&(!v||o>1);h(),t&&(a!==!1&&(u=new j),i=e.apply(s,r))}function d(){h();if(c||a!==t)u=new j,i=e.apply(s,r)}var r,i,s,o=0,u=0,a=!1,f=null,l=null,c=!0;t=_t(0,t||0);if(n===!0){var v=!0;c=!1}else kn(n)&&(v=n.leading,a="maxWait"in n&&_t(t,n.maxWait||0),c="trailing"in n?n.trailing:c);return function(){r=arguments,s=this,o++,vt(l);if(a===!1)v&&o<2&&(i=e.apply(s,r));else{var n=new j;!f&&!v&&(u=n);var c=a-(n-u);c<=0?(vt(f),f=null,u=n,i=e.apply(s,r)):f||(f=Tt(d,c))}return t!==a&&(l=Tt(p,t)),i}}function Hr(e){var n=Bt.call(arguments,1);return Tt(function(){e.apply(t,n)},1)}function Br(e,n){var r=Bt.call(arguments,2);return Tt(function(){e.apply(t,r)},n)}function jr(e,t){function n(){var r=n.cache,i=o+(t?t.apply(this,arguments):arguments[0]);return wt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)}return n.cache={},n}function Fr(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Ir(e){return Jt(e,Bt.call(arguments,1))}function qr(e){return Jt(e,Bt.call(arguments,1),null,s)}function Rr(e,t,n){var r=!0,i=!0;n===!1?r=!1:kn(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),n=K(),n.leading=r,n.maxWait=t,n.trailing=i;var s=Pr(e,t,n);return Z(n),s}function Ur(e,t){return function(){var n=[e];return Et.apply(n,arguments),t.apply(this,n)}}function zr(e){return e==null?"":ot(e).replace(w,Gt)}function Wr(e){return e}function Xr(e){$n(gn(e),function(t){var n=Rt[t]=e[t];Rt.prototype[t]=function(){var e=this.__wrapped__,t=[e];Et.apply(t,arguments);var r=n.apply(Rt,t);return e&&typeof e=="object"&&e===r?this:new Ut(r)}})}function Vr(){return n._=ht,this}function Jr(e,t){e==null&&t==null&&(t=1),e=+e||0,t==null?(t=e,e=0):t=+t||0;var n=Ht();return e%1||t%1?e+Dt(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+gt(n*(t-e+1))}function Kr(e,n){var r=e?e[n]:t;return Cn(r)?e[n]():r}function Qr(e,n,r){var i=Rt.templateSettings;e||(e=""),r=Wt?pn({},r,i):i;var s=Wt&&pn({},r.imports,i.imports),o=Wt?on(s):["_"],u=Wt?qn(s):[Rt],a,h=0,d=r.interpolate||b,m="__p += '",g=st((r.escape||b).source+"|"+d.source+"|"+(d===v?p:b).source+"|"+(r.evaluate||b).source+"|$","g");e.replace(g,function(t,n,r,i,s,o){return r||(r=i),m+=e.slice(h,o).replace(E,$),n&&(m+="' +\n__e("+n+") +\n'"),s&&(a=!0,m+="';\n"+s+";\n__p += '"),r&&(m+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=o+t.length,t}),m+="';\n";var y=r.variable,w=y;w||(y="obj",m="with ("+y+") {\n"+m+"\n}\n"),m=(a?m.replace(f,""):m).replace(l,"$1").replace(c,"$1;"),m="function("+y+") {\n"+(w?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var S="\n/*\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var x=q(o,"return "+m+S).apply(t,u)}catch(N){throw N.source=m,N}return n?x(n):(x.source=m,x)}function Gr(e,t,n){e=(e=+e)>-1?e:0;var i=-1,s=r(e);t=Rt.createCallback(t,n,1);while(++i<e)s[i]=t(i);return s}function Yr(e){return e==null?"":ot(e).replace(h,tn)}function Zr(e){var t=++i;return ot(e==null?"":e)+t}function ei(e,t){return t(e),e}function ti(){return ot(this.__wrapped__)}function ni(){return this.__wrapped__}n=n?nt.defaults(e.Object(),n,nt.pick(e,S)):e;var r=n.Array,a=n.Boolean,j=n.Date,F=n.Error,q=n.Function,z=n.Math,rt=n.Number,it=n.Object,st=n.RegExp,ot=n.String,ut=n.TypeError,at=[],ft=F.prototype,lt=it.prototype,ct=ot.prototype,ht=n._,pt=st("^"+ot(lt.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),dt=z.ceil,vt=n.clearTimeout,mt=at.concat,gt=z.floor,yt=q.prototype.toString,bt=pt.test(bt=it.getPrototypeOf)&&bt,wt=lt.hasOwnProperty,Et=at.push,St=lt.propertyIsEnumerable,xt=n.setImmediate,Tt=n.setTimeout,Nt=lt.toString,Ct=pt.test(Ct=Nt.bind)&&Ct,kt=pt.test(kt=it.create)&&kt,Lt=pt.test(Lt=r.isArray)&&Lt,At=n.isFinite,Ot=n.isNaN,Mt=pt.test(Mt=it.keys)&&Mt,_t=z.max,Dt=z.min,Pt=n.parseInt,Ht=z.random,Bt=at.slice,jt=pt.test(n.attachEvent),Ft=Ct&&!/\n|true/.test(Ct+jt),It={};It[C]=r,It[k]=a,It[L]=j,It[O]=q,It[_]=it,It[M]=rt,It[D]=st,It[P]=ot;var qt={};qt[C]=qt[L]=qt[M]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},qt[k]=qt[P]={constructor:!0,toString:!0,valueOf:!0},qt[A]=qt[O]=qt[D]={constructor:!0,toString:!0},qt[_]={constructor:!0},function(){var e=x.length;while(e--){var t=x[e];for(var n in qt)wt.call(qt,n)&&!wt.call(qt[n],t)&&(qt[n][t]=!1)}}(),Ut.prototype=Rt.prototype;var zt=Rt.support={};(function(){var e=function(){this.x=1},t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var i in new e)n.push(i);for(i in arguments);zt.argsObject=arguments.constructor==it&&!(arguments instanceof r),zt.argsClass=nn(arguments),zt.enumErrorProps=St.call(ft,"message")||St.call(ft,"name"),zt.enumPrototypes=St.call(e,"prototype"),zt.fastBind=Ct&&!Ft,zt.ownLast=n[0]!="x",zt.nonEnumArgs=i!=0,zt.nonEnumShadows=!/valueOf/.test(n),zt.spliceObjects=(at.splice.call(t,0,1),!t[0]),zt.unindexedChars="x"[0]+it("x")[0]!="xx";try{zt.nodeClass=Nt.call(document)!=_||!!({toString:0}+"")}catch(s){zt.nodeClass=!0}})(1),Rt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:v,variable:"",imports:{_:Rt}};var Wt=Qr("var index, iterable = <%= firstArg %>, result = <%= init %>;\nif (!iterable) return result;\n<%= top %>;<% if (array) { %>\nvar length = iterable.length; index = -1;\nif (<%= array %>) {  <% if (support.unindexedChars) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>;\n  }\n}\nelse {  <% } else if (support.nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>;\n    }\n  } else {  <% } %>  <% if (support.enumPrototypes) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (support.enumErrorProps) { %>\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  <% } %>  <%    var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }  %>  <% if (useHas && useKeys) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n<%    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }  <% } else { %>\n  for (index in iterable) {\n<%    if (useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }    <% if (support.nonEnumShadows) { %>\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      <% for (k = 0; k < 7; k++) { %>\n    index = '<%= shadowedProps[k] %>';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))<%        if (!useHas) { %> || (!nonEnum[index] && iterable[index] !== objectProto[index])<% }      %>) {\n      <%= loop %>;\n    }      <% } %>\n  }    <% } %>  <% } %>  <% if (array || support.nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result"),Xt={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},Vt={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg)",array:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},$t={top:"if (!objectTypes[typeof iterable]) return result;\n"+Vt.top,array:!1};if(!kt)var Qt=function(e){if(kn(e)){G.prototype=e;var t=new G;G.prototype=null}return t||{}};zt.argsClass||(nn=function(e){return e?wt.call(e,"callee"):!1});var rn=Lt||function(e){return e?typeof e=="object"&&Nt.call(e)==C:!1},sn=Kt({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),on=Mt?function(e){return kn(e)?zt.enumPrototypes&&typeof e=="function"||zt.nonEnumArgs&&e.length&&nn(e)?sn(e):Mt(e):[]}:sn,un=Kt(Vt),an={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fn=bn(an),ln=Kt(Xt,{top:Xt.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),pn=Kt(Xt),vn=Kt(Vt,$t,{useHas:!1}),mn=Kt(Vt,$t);Cn(/x/)&&(Cn=function(e){return typeof e=="function"&&Nt.call(e)==O});var Mn=bt?function(e){if(!e||Nt.call(e)!=_||!zt.argsClass&&nn(e))return!1;var t=e.valueOf,n=typeof t=="function"&&(n=bt(t))&&bt(n);return n?e==n||bt(e)==n:en(e)}:en,Zn=Qn,ar=Xn,pr=Zt(function ri(e,t,n){var r=-1,i=e?e.length:0,s=[];while(++r<i){var o=e[r];n&&(o=n(o,r,e)),rn(o)?Et.apply(s,t?o:ri(o)):s.push(o)}return s}),xr=Zt(function(e,t,n){var r=-1,i=Yt(),s=e?e.length:0,o=[],a=!t&&s>=u&&i===R,f=n||a?J():o;if(a){var l=V(f);l?(i=U,f=l):(a=!1,f=n?f:(Y(f),o))}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||f[f.length-1]!==h:i(f,h)<0)(n||a)&&f.push(h),o.push(c)}return a?(Y(f.array),Z(f)):n&&Y(f),o});Ft&&I&&typeof xt=="function"&&(Hr=Ar(xt,n));var $r=Pt(g+"08")==8?Pt:function(e,t){return Pt(Dn(e)?e.replace(y,""):e,t||0)};return Rt.after=Lr,Rt.assign=ln,Rt.at=Rn,Rt.bind=Ar,Rt.bindAll=Or,Rt.bindKey=Mr,Rt.compact=fr,Rt.compose=_r,Rt.countBy=zn,Rt.createCallback=Dr,Rt.debounce=Pr,Rt.defaults=pn,Rt.defer=Hr,Rt.delay=Br,Rt.difference=lr,Rt.filter=Xn,Rt.flatten=pr,Rt.forEach=$n,Rt.forIn=vn,Rt.forOwn=mn,Rt.functions=gn,Rt.groupBy=Jn,Rt.initial=vr,Rt.intersection=mr,Rt.invert=bn,Rt.invoke=Kn,Rt.keys=on,Rt.map=Qn,Rt.max=Gn,Rt.memoize=jr,Rt.merge=Hn,Rt.min=Yn,Rt.omit=Bn,Rt.once=Fr,Rt.pairs=jn,Rt.partial=Ir,Rt.partialRight=qr,Rt.pick=Fn,Rt.pluck=Zn,Rt.range=br,Rt.reject=nr,Rt.rest=wr,Rt.shuffle=rr,Rt.sortBy=or,Rt.tap=ei,Rt.throttle=Rr,Rt.times=Gr,Rt.toArray=ur,Rt.transform=In,Rt.union=Sr,Rt.uniq=xr,Rt.unzip=Tr,Rt.values=qn,Rt.where=ar,Rt.without=Nr,Rt.wrap=Ur,Rt.zip=Cr,Rt.zipObject=kr,Rt.collect=Qn,Rt.drop=wr,Rt.each=$n,Rt.extend=ln,Rt.methods=gn,Rt.object=kr,Rt.select=Xn,Rt.tail=wr,Rt.unique=xr,Xr(Rt),Rt.chain=Rt,Rt.prototype.chain=function(){return this},Rt.clone=cn,Rt.cloneDeep=hn,Rt.contains=Un,Rt.escape=zr,Rt.every=Wn,Rt.find=Vn,Rt.findIndex=cr,Rt.findKey=dn,Rt.has=yn,Rt.identity=Wr,Rt.indexOf=dr,Rt.isArguments=nn,Rt.isArray=rn,Rt.isBoolean=wn,Rt.isDate=En,Rt.isElement=Sn,Rt.isEmpty=xn,Rt.isEqual=Tn,Rt.isFinite=Nn,Rt.isFunction=Cn,Rt.isNaN=Ln,Rt.isNull=An,Rt.isNumber=On,Rt.isObject=kn,Rt.isPlainObject=Mn,Rt.isRegExp=_n,Rt.isString=Dn,Rt.isUndefined=Pn,Rt.lastIndexOf=yr,Rt.mixin=Xr,Rt.noConflict=Vr,Rt.parseInt=$r,Rt.random=Jr,Rt.reduce=er,Rt.reduceRight=tr,Rt.result=Kr,Rt.runInContext=tt,Rt.size=ir,Rt.some=sr,Rt.sortedIndex=Er,Rt.template=Qr,Rt.unescape=Yr,Rt.uniqueId=Zr,Rt.all=Wn,Rt.any=sr,Rt.detect=Vn,Rt.findWhere=Vn,Rt.foldl=er,Rt.foldr=tr,Rt.include=Un,Rt.inject=er,mn(Rt,function(e,t){Rt.prototype[t]||(Rt.prototype[t]=function(){var t=[this.__wrapped__];return Et.apply(t,arguments),e.apply(Rt,t)})}),Rt.first=hr,Rt.last=gr,Rt.take=hr,Rt.head=hr,mn(Rt,function(e,t){Rt.prototype[t]||(Rt.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return t==null||n&&typeof t!="function"?r:new Ut(r)})}),Rt.VERSION="1.3.1",Rt.prototype.toString=ti,Rt.prototype.value=ni,Rt.prototype.valueOf=ni,un(["join","pop","shift"],function(e){var t=at[e];Rt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),un(["push","reverse","sort","unshift"],function(e){var t=at[e];Rt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),un(["concat","slice","splice"],function(e){var t=at[e];Rt.prototype[e]=function(){return new Ut(t.apply(this.__wrapped__,arguments))}}),zt.spliceObjects||un(["pop","shift","splice"],function(e){var t=at[e],n=e=="splice";Rt.prototype[e]=function(){var e=this.__wrapped__,r=t.apply(e,arguments);return e.length===0&&delete e[0],n?new Ut(r):r}}),Rt._basicEach=un,Rt._iteratorTemplate=Wt,Rt._shimKeys=sn,Rt}var t,n=[],r=[],i=0,s={},o=+(new Date)+"",u=75,a=40,f=/\b__p \+= '';/g,l=/\b(__p \+=) '' \+/g,c=/(__e\(.*?\)|\b__t\)) \+\n'';/g,h=/&(?:amp|lt|gt|quot|#39);/g,p=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,d=/\w*$/,v=/<%=([\s\S]+?)%>/g,m=(m=/\bthis\b/)&&m.test(tt)&&m,g=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",y=RegExp("^["+g+"]*0+(?=.$)"),b=/($^)/,w=/[&<>"']/g,E=/['\n\r\t\u2028\u2029\\]/g,S=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],x=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],T=0,N="[object Arguments]",C="[object Array]",k="[object Boolean]",L="[object Date]",A="[object Error]",O="[object Function]",M="[object Number]",_="[object Object]",D="[object RegExp]",P="[object String]",H={};H[O]=!1,H[N]=H[C]=H[k]=H[L]=H[M]=H[_]=H[D]=H[P]=!0;var B={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},j={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},F=B[typeof exports]&&exports,I=B[typeof module]&&module&&module.exports==F&&module,q=B[typeof global]&&global;q&&(q.global===q||q.window===q)&&(e=q);var nt=tt();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e._=nt,define("lodash",[],function(){return nt})):F&&!F.nodeType?I?(I.exports=nt)._=nt:F._=nt:e._=nt}(this),function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function s(e,t,n,r){var i={};return _.each(_.keys(r),function(s){var o=r[s];o.params=_.extend({},o.params,e.defaultRequestParams[o.method.toLowerCase()]),_.isEmpty(o.params)&&delete o.params,e.isSafe(o.method)?i[s]=function(){return t(_.extend(o,{url:n}))}:i[s]=function(e){return t(_.extend(o,{url:n,data:e}))}}),i}var n=["get","head","options","trace"];t.isSafe=function(e){return _.contains(n,e.toLowerCase())};var r=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return e&&r.test(e)},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpDefaults=function(e){return _.defaults(e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var r=[],i=n||e;return _.isUndefined(n)?r.push("common"):_.isArray(e)?r=e:r.push(e),_.each(r,function(e){t.defaultRequestParams[e]=i}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.isOverridenMethod=function(e,n){var r=n||t.methodOverriders;return!_.isUndefined(_.find(r,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.setFieldToElem=function(e,t,n){var r=e.split("."),i=t;return _.each(_.initial(r),function(e){i[e]={},i=i[e]}),i[_.last(r)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),r=angular.copy(t);return _.each(n,function(e){r&&(r=r[e])}),r},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],r=t.isValidId(n)?n:t.getIdFromElem(e);return r},t.responseExtractor=t.responseExtractor||function(e,t,n,r,i,s){return e},e.setResponseExtractor=function(e){return t.responseExtractor=e,this},e.setResponseInterceptor=e.setResponseExtractor,t.fullRequestInterceptor=t.fullRequestInterceptor||function(e,t,n,r,i,s){return{element:e,headers:i,params:s}},e.setRequestInterceptor=function(e){return t.fullRequestInterceptor=function(t,n,r,i,s,o){return{headers:s,params:o,element:e(t,n,r,i)}},this},e.setFullRequestInterceptor=function(e){return t.fullRequestInterceptor=e,this},t.errorInterceptor=t.errorInterceptor||function(){},e.setErrorInterceptor=function(e){return t.errorInterceptor=e,this},t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},e.setListTypeIsArray=function(e){},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(e,n,r){var i=null,s=null;arguments.length===2?s=n:(s=r,i=n);var o=t.transformers[e];o||(o=t.transformers[e]=[]),o.push(function(e,t){return _.isNull(i)||e==i?s(t):t})},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,r,i){var s=t.transformers[r],o=e;return s&&_.each(s,function(e){o=e(n,o)}),t.onElemRestangularized(o,n,r,i)},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var i=function(){};i.prototype.setConfig=function(e){return this.config=e,this},i.prototype.parentsArray=function(e){var t=[];while(e)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},i.prototype.resource=function(e,n,r,i,o,u,a){var f=_.defaults(i||{},this.config.defaultRequestParams.common),l=_.defaults(r||{},this.config.defaultHeaders);u&&(t.isSafe(a)?l["If-None-Match"]=u:l["If-Match"]=u);var c=this.base(e);return c+=o?"/"+o:"",c+=this.config.suffix||"",s(this.config,n,c,{getList:this.config.withHttpDefaults({method:"GET",params:f,headers:l}),get:this.config.withHttpDefaults({method:"GET",params:f,headers:l}),put:this.config.withHttpDefaults({method:"PUT",params:f,headers:l}),post:this.config.withHttpDefaults({method:"POST",params:f,headers:l}),remove:this.config.withHttpDefaults({method:"DELETE",params:f,headers:l}),head:this.config.withHttpDefaults({method:"HEAD",params:f,headers:l}),trace:this.config.withHttpDefaults({method:"TRACE",params:f,headers:l}),options:this.config.withHttpDefaults({method:"OPTIONS",params:f,headers:l}),patch:this.config.withHttpDefaults({method:"PATCH",params:f,headers:l})})};var o=function(){};o.prototype=new i,o.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,r){var i,s=n.config.getUrlFromElem(r);if(s){if(n.config.isAbsoluteUrl(s))return s;i=s}else{i=r[n.config.restangularFields.route];if(r[n.config.restangularFields.restangularCollection]){var o=r[n.config.restangularFields.ids];o&&(i+="/"+o.join(","))}else{var u;n.config.useCannonicalId?u=n.config.getCannonicalIdFromElem(r):u=n.config.getIdFromElem(r),t.isValidId(u)&&(i+="/"+(n.config.encodeIds?encodeURIComponent(u):u))}}return e+"/"+i},this.config.baseUrl)},o.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},t.urlCreatorFactory.path=o};var t={};e.init(this,t),this.$get=["$http","$q",function(n,r){function i(s){function a(e,t,n){t[s.restangularFields.route]=n,t[s.restangularFields.getRestangularUrl]=_.bind(u.fetchUrl,u,t),t[s.restangularFields.addRestangularMethod]=_.bind(F,t),t[s.restangularFields.clone]=_.bind(w,t,t),t.one=_.bind(f,t,t),t.all=_.bind(l,t,t),t.several=_.bind(c,t,t),t.oneUrl=_.bind(h,t,t),t.allUrl=_.bind(p,t,t);if(e&&s.shouldSaveParent(n)){var r=s.getIdFromElem(e),i=s.getUrlFromElem(e),o=_.union(_.values(_.pick(s.restangularFields,["route","parentResource"])),s.extraFields),a=_.pick(e,o);s.isValidId(r)&&s.setIdToElem(a,r),s.isValidId(i)&&s.setUrlToElem(a,i),t[s.restangularFields.parentResource]=a}else t[s.restangularFields.parentResource]=null;return t}function f(e,t,n){var r={};return s.setIdToElem(r,n),E(e,r,t)}function l(e,t){return S(e,[],t,!0)}function c(e,t,n){var r=[];return r[s.restangularFields.ids]=Array.prototype.splice.call(arguments,2),S(e,r,t,!0)}function h(e,t,n){var r={};return s.setUrlToElem(r,n),E(e,r,t)}function p(e,t,n){var r={};return s.setUrlToElem(r,n),S(e,r,t,!0)}function d(e,t){return e.call=_.bind(v,e),e.get=_.bind(m,e),e[s.restangularFields.restangularCollection]=t,t&&(e.push=_.bind(v,e,"push")),e}function v(e){var t=r.defer(),n=arguments;return this.then(function(r){var i=Array.prototype.slice.call(n,1),s=r[e];s.apply(r,i),t.resolve(r)}),d(t.promise,this[s.restangularFields.restangularCollection])}function m(e){var t=r.defer();return this.then(function(n){t.resolve(n[e])}),d(t.promise,this[s.restangularFields.restangularCollection])}function g(e,t,n){if(s.fullResponse)return e.resolve(_.extend(t,{data:n}));e.resolve(n)}function y(e){return _.omit(e,_.values(_.omit(s.restangularFields,"id")))}function b(e){e.customOperation=_.bind(j,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var r=t==="delete"?"remove":t,i=n+t.toUpperCase(),s;r!=="put"&&r!=="post"?s=j:s=function(e,t,n,r,i){return _.bind(j,this)(e,n,r,i,t)},e[i]=_.bind(s,e,r)})}),e.customGETLIST=_.bind(C,e),e.doGETLIST=e.customGETLIST}function w(e){var t=angular.copy(e);return E(t[s.restangularFields.parentResource],t,t[s.restangularFields.route])}function E(e,t,n,r){var i=s.onBeforeElemRestangularized(t,!1,n),u=a(e,i,n);return s.useCannonicalId&&(u[s.restangularFields.cannonicalId]=s.getIdFromElem(u)),r&&(u[s.restangularFields.getParentList]=function(){return r}),u[s.restangularFields.restangularCollection]=!1,u[s.restangularFields.get]=_.bind(L,u),u[s.restangularFields.getList]=_.bind(C,u),u[s.restangularFields.put]=_.bind(O,u),u[s.restangularFields.post]=_.bind(M,u),u[s.restangularFields.remove]=_.bind(A,u),u[s.restangularFields.head]=_.bind(D,u),u[s.restangularFields.trace]=_.bind(P,u),u[s.restangularFields.options]=_.bind(H,u),u[s.restangularFields.patch]=_.bind(B,u),b(u),s.transformElem(u,!1,n,o)}function S(e,t,n){var r=s.onBeforeElemRestangularized(t,!0,n),i=a(e,r,n);return i[s.restangularFields.restangularCollection]=!0,i[s.restangularFields.post]=_.bind(M,i,null),i[s.restangularFields.head]=_.bind(D,i),i[s.restangularFields.trace]=_.bind(P,i),i[s.restangularFields.putElement]=_.bind(T,i),i[s.restangularFields.options]=_.bind(H,i),i[s.restangularFields.patch]=_.bind(B,i),i[s.restangularFields.get]=_.bind(x,i),i[s.restangularFields.getList]=_.bind(C,i,null),b(i),s.transformElem(i,!0,n,o)}function x(e,t,n){return this.customGET(e.toString(),t,n)}function T(e,t,n){var i=this,s=this[e],o=r.defer();return s.put(t,n).then(function(t){var n=w(i);n[e]=t,o.resolve(n)},function(e){o.reject(e)}),d(o.promise,!0)}function N(e,t,n,r,i,o){var u=s.responseExtractor(e,t,n,r,i,o),a=i.headers("ETag");return u&&a&&(u[s.restangularFields.etag]=a),u}function C(e,t,i){var o=this,a=r.defer(),f="getList",l=u.fetchUrl(this,e),c=e||o[s.restangularFields.route],h=s.fullRequestInterceptor(null,f,c,l,i||{},t||{});return u.resource(this,n,h.headers,h.params,e,this[s.restangularFields.etag],f).getList().then(function(t){var n=t.data,r=N(n,f,c,l,t,a),i=_.map(r,function(t){return o[s.restangularFields.restangularCollection]?E(o[s.restangularFields.parentResource],t,o[s.restangularFields.route],r):E(o,t,e,r)});i=_.extend(r,i),o[s.restangularFields.restangularCollection]?g(a,t,S(null,i,o[s.restangularFields.route])):g(a,t,S(o,i,e))},function(t){s.errorInterceptor(t)!==!1&&a.reject(t)}),d(a.promise,!0)}function k(e,t,i,o,a){var f=this,l=r.defer(),c=i||{},h=t||this[s.restangularFields.route],p=u.fetchUrl(this,t),v=o||this,m=v[s.restangularFields.etag];_.isObject(v)&&(v=y(v));var b=s.fullRequestInterceptor(v,e,h,p,a||{},c||{}),w=function(n){var r=n.data,i=N(r,e,h,p,n,l);i?e==="post"&&!f[s.restangularFields.restangularCollection]?g(l,n,E(f,i,t)):g(l,n,E(f[s.restangularFields.parentResource],i,f[s.restangularFields.route])):g(l,n,undefined)},S=function(e){s.errorInterceptor(e)!==!1&&l.reject(e)},x=e,T=_.extend({},b.headers),C=s.isOverridenMethod(e);return C&&(x="post",T=_.extend(T,{"X-HTTP-Method-Override":e==="remove"?"DELETE":e})),s.isSafe(e)?C?u.resource(this,n,T,b.params,t,m,x)[x]({}).then(w,S):u.resource(this,n,T,b.params,t,m,x)[x]().then(w,S):u.resource(this,n,T,b.params,t,m,x)[x](b.element).then(w,S),d(l.promise)}function L(e,t){return _.bind(k,this)("get",undefined,e,undefined,t)}function A(e,t){return _.bind(k,this)("remove",undefined,e,undefined,t)}function O(e,t){return _.bind(k,this)("put",undefined,e,undefined,t)}function M(e,t,n,r){return _.bind(k,this)("post",e,n,t,r)}function D(e,t){return _.bind(k,this)("head",undefined,e,undefined,t)}function P(e,t){return _.bind(k,this)("trace",undefined,e,undefined,t)}function H(e,t){return _.bind(k,this)("options",undefined,e,undefined,t)}function B(e,t,n){return _.bind(k,this)("patch",undefined,t,e,n)}function j(e,t,n,r,i){return _.bind(k,this)(e,t,n,i,r)}function F(e,t,n,r,i,o){var u;t==="getList"?u=_.bind(C,this,n):u=_.bind(j,this,t,n);var a=function(e,t,n){var s=_.defaults({params:e,headers:t,elem:n},{params:r,headers:i,elem:o});return u(s.params,s.headers,s.elem)};s.isSafe(t)?this[e]=a:this[e]=function(e,t,n){return a(t,n,e)}}function I(n){var r=angular.copy(t);return e.init(r,r),n(r),i(r)}var o={},u=new s.urlCreatorFactory[s.urlCreator];return u.setConfig(s),e.init(o,s),o.copy=_.bind(w,o),o.withConfig=_.bind(I,o),o.one=_.bind(f,o,null),o.all=_.bind(l,o,null),o.several=_.bind(c,o,null),o.oneUrl=_.bind(h,o,null),o.allUrl=_.bind(p,o,null),o.restangularizeElement=_.bind(E,o),o.restangularizeCollection=_.bind(S,o),o}return i(t)}]})}(),define("restangular",["angular","lodash"],function(){}),define("config",["angular"],function(e){return e.module("app.constants",[]).constant("config",{REQUEST_GZIP:!0,API_PATH:"/api",API_VERSION:"1"}).constant("appName","Seene").constant("appDownloadUrl","https://itunes.apple.com/gb/app/seene/id698878590?ls=1&mt=8")}),define("filters/index",["angular"],function(e){return e.module("app.filters",[])}),function(e,t,n){var r=t.$$minErr("$resource");t.module("ngResource",["ng"]).factory("$resource",["$http","$parse","$q",function(e,i,s){function p(e){return d(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function v(e,t){this.template=e,this.defaults=t||{},this.urlParams={}}function m(i,p,d){function y(e,t){var n={};return t=f({},p,t),a(t,function(t,r){c(t)&&(t=t()),n[r]=t&&t.charAt&&t.charAt(0)=="@"?h(e,t.substr(1)):t}),n}function b(e){return e.resource}function w(e){l(e||{},this)}var g=new v(i);return d=f({},o,d),a(d,function(i,o){var h=/^(POST|PUT|PATCH)$/i.test(i.method);w[o]=function(o,p,d,v){var m={},E,S,x;switch(arguments.length){case 4:x=v,S=d;case 3:case 2:if(!c(p)){m=o,E=p,S=d;break}if(c(o)){S=o,x=p;break}S=p,x=d;case 1:c(o)?S=o:h?E=o:m=o;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=E instanceof w,N=T?E:i.isArray?[]:new w(E),C={},k=i.interceptor&&i.interceptor.response||b,L=i.interceptor&&i.interceptor.responseError||n;a(i,function(e,t){t!="params"&&t!="isArray"&&t!="interceptor"&&(C[t]=l(e))}),C.data=E,g.setUrlParams(C,f({},y(E,i.params||{}),m),i.url);var A=e(C).then(function(e){var n=e.data,s=N.$promise;if(n){if(t.isArray(n)!=!!i.isArray)throw r("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",i.isArray?"array":"object",t.isArray(n)?"array":"object");i.isArray?(N.length=0,a(n,function(e){N.push(new w(e))})):(l(n,N),N.$promise=s)}return N.$resolved=!0,(S||u)(N,e.headers),e.resource=N,e},function(e){return N.$resolved=!0,(x||u)(e),s.reject(e)}).then(k,L);return T?A:(N.$promise=A,N.$resolved=!1,N)},w.prototype["$"+o]=function(e,t,n){c(e)&&(n=t,t=e,e={});var r=w[o](e,this,t,n);return r.$promise||r}}),w.bind=function(e){return m(i,f({},p,e),d)},w}var o={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},u=t.noop,a=t.forEach,f=t.extend,l=t.copy,c=t.isFunction,h=function(e,t){return i(t)(e)};return v.prototype={setUrlParams:function(e,n,r){var i=this,s=r||i.template,o,u,f=i.urlParams={};a(s.split(/\W/),function(e){!(new RegExp("^\\d+$")).test(e)&&e&&(new RegExp("(^|[^\\\\]):"+e+"(\\W|$)")).test(s)&&(f[e]=!0)}),s=s.replace(/\\:/g,":"),n=n||{},a(i.urlParams,function(e,r){o=n.hasOwnProperty(r)?n[r]:i.defaults[r],t.isDefined(o)&&o!==null?(u=p(o),s=s.replace(new RegExp(":"+r+"(\\W|$)","g"),u+"$1")):s=s.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){return n.charAt(0)=="/"?n:t+n})}),s=s.replace(/\/+$/,""),s=s.replace(/\/\.(?=\w+($|\?))/,"."),e.url=s.replace(/\/\\\./,"/."),a(n,function(t,n){i.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},m}])}(window,window.angular),define("ngResource",function(){}),define("services/index",["angular","../config","ngResource"],function(e){return e.module("app.services",["ngResource","app.constants"])}),function(){angular.module("rn-lazy",[]).directive("rnLazyBackground",["$document","$parse",function(e,t){return{restrict:"A",link:function(n,r,i){function s(e){o&&(e.html(""),e.append(o),e.css({"background-image":null}))}var o=null;angular.isDefined(i.rnLazyLoader)&&(o=angular.element(e[0].querySelector(i.rnLazyLoader)).clone());var u=t(i.rnLazyBackground);n.$watch(u,function(t){s(r);var a=u(n),f=e[0].createElement("img");f.onload=function(){o&&o.remove(),angular.isDefined(i.rnLazyLoadingClass)&&r.removeClass(i.rnLazyLoadingClass),angular.isDefined(i.rnLazyLoadedClass)&&r.addClass(i.rnLazyLoadedClass),r.css({"background-image":"url("+this.src+")"})},f.onerror=function(){},f.src=a})}}}])}(),define("rnLazy",["angular"],function(){}),define("directives/index",["angular","../services/index","rnLazy"],function(e,t,n){return e.module("app.directives",["app.services","rn-lazy"])}),define("experiments/index",["angular","../config"],function(e){return e.module("app.experiments",["app.constants","app.services"])}),define("controllers/index",["angular","../config","../services/index","../experiments/index"],function(e){return e.module("app.controllers",["app.constants","app.services","app.experiments"])}),define("compiledTemplates",[],function(){return function(e){e.put("views/about/show.html.tpl",'<div class="col-12 padding--none overflow-hidden--x" >\n\n	<div class="col-12 padding--none clearfix" >\n\n    <div class="info-content container col-lg-8 col-sm-10 col-12 center col-offset--none--small type--sans-alt color--light text-thin ff-border-fix">\n\n      <div class="col-lg-6 col-sm-6 padding--top--none ">\n        <h2 class="info-heading margin--top--large"><span>Thanks for</span> checking out Seene!</h2>\n      </div>\n\n      <div class="col-lg-6 col-sm-6 info-body">\n        <p>Seene lets you capture life with beautiful 3D photos. You can share these life-like three dimensional seenes of the world around you with your friends, family and followers.</p>\n        <p>We\'d love to hear info how you\'re using Seene, so please send any questions, comments or suggestions to <a href="mailto:hello@seene.co">hello@seene.co</a></p>\n      </div>\n\n      <div class="margin--top--large">\n        <div class="col-lg-6 col-sm-6 info-body">\n          <p>Seene is brought to you by <a href="http://obviousengine.com/">Obvious Engineering</a>.</p>\n          <p>We\'re a computer vision startup based in London, UK. When we\'re in the Bay Area, you can find us at RocketSpace.</p>\n          <p>Our goal is to help smart devices to better connect with and understand the world that they see.</p>\n          <p>Cheers,<br /><br />Mike, Andrew, Sam, and Ebony.</p>\n        </div>\n\n        <div class="col-lg-6 col-sm-6 col-12 margin--top--large">\n          <div class="box-max-480--small col-lg-12 col-sm-12 col-12 center clearfix padding--none">\n            <div class="margin-extend--top--100"></div>\n            <iframe class="embed-abs" ng-src="http://seene.co/s/kfoTkC/embed" width="100%" height="100%" frameborder="0" seamless></iframe>\n          </div>\n        </div>\n      </div>\n    </div>\n	</div>\n\n  <ng-include src="\'/views/common/press-logos.html.tpl\'" class="col-12 story story-quote background--hero"></ng-include>\n\n</div>'),e.put("views/common/badge-appopen.html.tpl",'<a href="seene://s/{{scene.identifier}}">\n	<img class="fill-width btn padding--small" src="/images/f4a551e6.Seene-Mobile-CTA.1.svg" alt="Download Obvi on the App Store" oe-track="appopen-badge">\n</a>'),e.put("views/common/badge-appstore.html.tpl",'<a href="{{appDownloadUrl}}" target="_blank" oe-track="appstore-badge">\n	<img class="fill-width btn padding--small" src="/images/4280411a.obvi-appstore-badge.svg" alt="Download {{appName}} on the App Store" >\n</a>'),e.put("views/common/heading-brand.html.tpl",'<div class="heading heading-brand ">\n	<div class="title heading-title heading-title--large heading-title--brand transition-all--half-sec">\n		<div class=""><h1 class="type--sans-alt pointer-events--all margin--top--large margin--bottom--small">{{ appName }}</h1></div>\n	</div>\n</div>\n'),e.put("views/common/press-logos.html.tpl",'<div class="clearfix container press-logos-container transform-flat filter-grayscale--100">\n  <div class="col-12 col-lg-12 col-sm-12">\n   <div class="col-lg-12 col-sm-12 col-12 images-table padding--none hidden-sm">\n      <a href="http://techcrunch.com/2013/10/19/seene-uses-computer-vision-to-create-unique-and-eerie-3d-images-on-iphone/" target="_blank" class="image-wrap">\n        <img src="/images/press/f0635e14.techcrunch.png">\n      </a>\n      <a href="http://gigaom.com/2013/10/14/meet-seene-a-free-ios-photo-app-that-captures-3d-like-images" target="_blank" class="image-wrap">\n        <img src="/images/press/f223a41d.gigaom.png" >\n      </a>\n      <a href="http://www.theverge.com/2013/10/14/4837634/seene-lets-you-capture-3d-objects-using-an-iphone" target="_blank" class="image-wrap">\n        <img src="/images/press/38f89cef.the-verge.png" style="padding:2.5em">\n      </a>\n      <a href="http://www.engadget.com/2013/10/14/seene-for-iphone-produces-simple-shareable-3d-photos" target="_blank" class="image-wrap">\n       <img src="/images/press/bcc31924.engadget.png">\n      </a>\n      <a href="http://www.tuaw.com/2013/10/15/seene-lets-you-take-and-share-3d-images-from-your-iphone" target="_blank" class="image-wrap">\n        <img src="/images/press/5357a2b5.tuaw.png">\n      </a>\n      <a href="http://www.businessinsider.com/seene-the-trippy-new-app-for-3d-photos-is-blowing-our-minds-2013-10" target="_blank" class="image-wrap">\n        <img src="/images/press/1f401dea.business-insider.png">\n      </a>\n    </div>\n    <div class="col-12 images-table padding--none visible-sm center">\n      <a href="http://techcrunch.com/2013/10/19/seene-uses-computer-vision-to-create-unique-and-eerie-3d-images-on-iphone/" target="_blank" class="image-wrap">\n        <img src="/images/press/f0635e14.techcrunch.png">\n      </a>\n      <a href="http://gigaom.com/2013/10/14/meet-seene-a-free-ios-photo-app-that-captures-3d-like-images" target="_blank" class="image-wrap">\n        <img src="/images/press/f223a41d.gigaom.png" >\n      </a>\n      <a href="http://www.theverge.com/2013/10/14/4837634/seene-lets-you-capture-3d-objects-using-an-iphone" target="_blank" class="image-wrap">\n        <img src="/images/press/38f89cef.the-verge.png" style="padding:1.5em">\n      </a>\n    </div>\n    <div class="col-12 images-table padding--none visible-sm">\n      <a href="http://www.engadget.com/2013/10/14/seene-for-iphone-produces-simple-shareable-3d-photos" target="_blank" class="image-wrap">\n       <img src="/images/press/bcc31924.engadget.png">\n      </a>\n      <a href="http://www.tuaw.com/2013/10/15/seene-lets-you-take-and-share-3d-images-from-your-iphone" target="_blank" class="image-wrap">\n        <img src="/images/press/5357a2b5.tuaw.png">\n      </a>\n      <a href="http://www.businessinsider.com/seene-the-trippy-new-app-for-3d-photos-is-blowing-our-minds-2013-10" target="_blank" class="image-wrap">\n        <img src="/images/press/1f401dea.business-insider.png">\n      </a>\n    </div>\n  </div>\n</div>'),e.put("views/common/webgl-not-supported.html.tpl",'<div class="padding--large col-12 pointer-events--all" ng-class="{\'background--bg--75\':supports.iOS, \'background--primary--25\': !supports.iOS}">\n	<a href="{{appDownloadUrl}}" target="_blank" class="link-color--primary link-decoration--none"><div ng-if="supports.iOS" class="text-center color--light  padding--large padding--small--small padding--bottom--none padding--top--medium">\n		<h4><strong>To view this photo in 3D <span class="color--primary block">get the Seene app now</span></strong></h4>\n	</div></a>\n	<div ng-if="!supports.iOS">\n		<div class="color--light  padding--large padding--small--small padding--bottom--none padding--top--medium">\n		  <h4>Howdy flatlander, your browser can&#39;t comprehend three dimensions.</h4>\n\n      <div ng-if="supports.chrome">\n        <p>To view this <em>seene</em> in 3D use a WebGL compatible browser. Test your browser at <a href="http://get.webgl.org " target="_blank">http://get.webgl.org</a></p>\n      </div>\n      <div ng-if="!supports.chrome">\n        <p>To view this <em>seene</em> in 3D use a WebGL compatible browser like <a href="https://www.google.com/intl/en/chrome/browser/" target="_blank">Google&nbsp;Chrome</a>.</p>\n      </div>\n		</div>\n	</div>\n</div>\n'),e.put("views/faq/show.html.tpl",'<div class="col-12 padding--none overflow-hidden--x" >\n\n  <div class="col-12 padding--none clearfix" >\n\n    <div class="info-content container col-lg-8 col-sm-10 col-12 center col-offset--none--small type--sans-alt color--light text-thin ff-border-fix">\n\n        <div class="col-lg-12 col-sm-12 col-12 info-body">\n\n          <h3>What is Seene?</h3>\n          <p>Seene lets you capture and share a new kind of 3D photo that brings together image, depth and movement to create a richer, more interactive experience, all on your iPhone.</p>\n\n          <h3>What do I need to use it?</h3>\n          <p>Seene is designed for iPhone 4S, 5, 5c and 5s, and the latest iPod Touch. You can also use it on iPad 3 and higher and iPad mini by installing it as an iPhone app.</p>\n\n          <h3>Can I use Seene on my iPhone 4?</h3>\n          <p>Seene pushes phones to the limit in order to build the 3D model. In the same way as due to hardware constraints Apple cannot make all iOS features available to iPhone 4, we need a dual-core processor to make the 3D capture possible. Unfortunately the iPhone 4 is single-core, so we can\'t support it for capturing photos.</p>\n          <p>You can use Seene on iPhone 4 to view 3D photos taken by your friends, however.</p>\n\n          <h3>Can I use Seene on Android?</h3>\n          <p>Not yet, but we’ll be porting Seene to Android as we grow our team.</p>\n\n          <h3>How do I capture a seene?</h3>\n          <p>Just follow these steps:</p>\n\n          <ol>\n            <li> Tap the camera icon</li>\n            <li>Choose a subject that has lots of green dots on it and tap the shutter button</li>\n            <li>When the capture guide appears move slowly around your subject, keeping it in the centre of the screen</li>\n            <li> When enough info has been collected from an angle, you’ll see its guide segment go green. Once you have four green segments, you’re done!</li>\n          </ol>\n\n          <h3>How do I share a seene with my followers?</h3>\n          <p>When you save your seene after capturing it, make sure Share on Seene is switched on. Your seene will now appear in the feeds of your followers.</p>\n          <p>Each shared seene also has a URL which links to a web view. You can paste this link into an email or text message.</p>\n\n          <h3>Do you have any tips for taking great seenes?</h3>\n          <p>Yes! Make sure that there are plenty of green dots before you start to capture – this means the app can \'see\' your subject well and you should get a better result. Avoid glass and plain, featureless objects like white tables, and make sure there\'s good ambient light.</p>\n          <p>Also, try to keep your phone a constant distance from your subject and move around it in a half circle with the subject in the centre.</p>\n\n          <h3>Where can I see some examples?</h3>\n          <p>Check out our Tumblr of user-shared seenes at <a href="http://seeneapp.tumblr.com" target="_blank">http://seeneapp.tumblr.com</a> to see our favourites!</p>\n\n          <hr class="border--gray-light--25">\n\n          <h3>How do I share a seene on Facebook and Twitter?</h3>\n          <p>First, make sure you have set up your Facebook and Twitter accounts in iOS Settings. Then, toggle on the Share on Facebook and Share on Twitter switches when you save your seenes.</p>\n          <p>You can also tweet or post a seene that someone else has shared by tapping on the <small>&#9679; &#9679; &#9679;</small> action button.</p>\n          <p>At the moment the first Facebook or Twitter account that you have set up in iOS Settings is used for sharing. Shortly we’ll let you choose which account to share with.</p>\n\n          <h3>How do I email a shared seene?</h3>\n          <p>Select Copy Link by tapping on the <small>&#9679; &#9679; &#9679;</small> action button below the seene you want to share. This copies the seene’s web page URL to the clipboard, which you can then paste into an email.</p>\n\n          <h3>How do I embed a seene into my website/blog/Tumblr?</h3>\n          <o>Visit the web page of the shared seene and click the Embed button to copy the embed code. You can then paste this code into your website like you would with a YouTube video.</o>\n\n          <h3>Can I save my seenes to the photo roll?</h3>\n          <p>Because our photos are a different format to add in the 3D, they can\'t yet be saved to the iOS photo album.</p>\n\n          <h3>Can I export my photos / save them to my computer?</h3>\n          <p>We’ll be adding export functionality in the future, so stay tuned.</p>\n\n          <h3>How do I keep a seene private?</h3>\n          <p>Shared seenes are publicly visible and will appear in your followers’ feeds. Each shared seene also has its own webpage so if you share that link or if people find it, others can see it.</p>\n          <p>If you don\'t want others to see your seene, then turn off the Share on Seene switch when you save it.</p>\n\n          <h3>How do I delete a seene?</h3>\n          <p>Select Delete by tapping on the <small>&#9679; &#9679; &#9679;</small> action button below the seene you want to delete. If it’s shared, this will remove it from other people’s feeds and its web page will no longer be visible.</p>\n\n          <h3>How do I report inappropriate content?</h3>\n          <p>Select Report Inappropriate by tapping on the <small>&#9679; &#9679; &#9679;</small> action button below the seene you want to report, and we’ll take a look.</p>\n\n          <hr class="border--gray-light--25">\n\n          <h3>How do I find people to follow?</h3>\n          <p>You can search for your friends at the top of the Discover section. Tap the Follow button on their profile to follow them. You can also tap Following to see who else is following them.</p>\n          <p>Shortly we’ll be adding the ability to automatically find your friends on Facebook and Twitter.</p>\n\n          <h3>How can I search for themes and hashtags?</h3>\n          <p>In the Discover section you can toggle the search from users to hashtags. Don’t prefix your search with a leading #.</p>\n\n          <h3>How do I set my avatar?</h3>\n          <p>You can set your avatar in My Profile by tapping the default, greyed out avatar image. You can choose a photo from your photo library, or take a new one.</p>\n\n          <h3>How do I change my password?</h3>\n          <p>Tap Settings in My Profile, then Edit profile. You’ll see an option to change your password.</p>\n\n          <h3>Help, I forgot my password!</h3>\n          <p>No problem, we can reset it for you. Just send us an email at <a href="mailto:support@seene.co">support@seene.co</a> from the email address that you signed up with, and be sure to let us know your username.</p>\n\n          <h3>Do you have an API?</h3>\n          <p>Not yet, but we will soon! Drop us a line at <a href="mailto:feedback@seene.co">feedback@seene.co</a> and let us know how you’d like to use it.</p>\n\n          <h3>My question isn’t answered here, now what?</h3>\n          <p>No worries, just get in touch at <a href="mailto:support@seene.co">support@seene.co</a> and we’ll get right back to you.</p>\n\n         <h2 class="info-heading margin--top--large"><span>Thanks for</span> using Seene!</h2>\n\n      </div>\n    </div>\n  </div>\n</div>'),e.put("views/hero/jumbo.html.tpl",'<div class="fill-height">\n	<div class="fill-height clearfix" >\n		<div class="hero-brand col-12 col-lg-12 col-sm-12 pull-right margin--right--large margin--right--none--small">\n			<a href="/" class="color--bg link-color--primary--hover  link-decoration--none"><div ng-include src="\'views/common/heading-brand.html.tpl\'" class="padding--right--large padding--right--none--small text-center--small text-right" ></div></a>\n			<h2 class="color--bg hero-strapline uppercase color--dark text-center--small text-right">Share life in 3D</h2>\n			<div class="cta cta-hero clearfix padding--top--none margin--top--none padding--bottom--large margin--bottom--medium margin--bottom--none--small margin--top--none--small z-index--popover pull-right pull-none--small center--small">\n				<div class="text-center margin--bottom--none">\n					<div ng-include src="\'views/common/badge-appstore.html.tpl\'" class="center--block padding--none margin--top--large margin--bottom--medium"></div>\n				</div>\n			</div>\n		</div>\n		<div ng-if="state === \'full\'" class="hero-splash">\n			<div class="col-12 text-center">\n					<div class="splash-video center--inline-block margin--top--large margin--top--none--small">\n						<div class="pos-abs pos-abs--left pos-abs--top hero-splash--lg">\n							<div class="margin-extend--top--200"></div>\n							<img src="/images/47d82a2f.White-iPhone5.svg" alt="" class="pos-abs pos-abs--top pos-abs--left fill-width pointer-events--none" style="z-index:200;">\n							<video prep-video class="video-home pos-abs pos-abs--top pos-abs--bottom pos-abs--left pos-abs--right" loop poster="/images/b7e50367.seene-video-poster.jpg" preload="auto" autobuffer autoplay="autoplay">\n						        <source ng-src="https://s3-eu-west-1.amazonaws.com/seene-assets/videos/homepage.mp4" type="video/mp4">\n						      	<source ng-src="https://s3-eu-west-1.amazonaws.com/seene-assets/videos/homepage.webm" type="video/webm">\n						        <source ng-src="https://s3-eu-west-1.amazonaws.com/seene-assets/videos/homepage.ogv" type="video/ogg">\n						    </video>\n						</div>\n					</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n\n'),e.put("views/home/show.html.tpl",'<div class="col-12 padding--none overflow-hidden--x" >\n\n	<div class="col-12 padding--none clearfix" >\n\n		<!-- Stories -->\n		<article ng-include src="\'views/home/stories.html.tpl\'" class="stories clearfix margin--top--large margin--top--none--small padding--top--large padding--top--none--small padding--left--large--small  padding--right--large--small" >\n		</article>\n		<!-- *** -->\n\n	</div>\n\n</div>'),e.put("views/home/stories.html.tpl",'<div class="container">\n	<section class="col-12 story story-home">\n		<div class="clearfix">\n			<div class="col-lg-6 col-sm-6 col-12 padding--left--large padding--left--none--small padding--right--none--small margin--bottom--large color--light">\n				<div class="col-lg-10 col-sm-10 col-12 center padding--none clearfix ">\n					<div class="clearfix" ng-include src="\'views/home/story-2.html.tpl\'"></div>\n				</div>\n			</div>\n			<div class="col-lg-6 col-sm-6 col-12 clearfix padding--none margin--left--none">\n				<div class="col-lg-10 col-sm-10 col-12 center padding--none clearfix" ng-controller="EditorsPickCtrl">\n					<div class="margin-extend--top--100"></div>\n					<iframe class="embed-home" ng-src="{{ embedUrl }}" width="100%" height="100%" frameborder="0" seamless=""></iframe>\n				</div>\n			</div>\n		</div>\n	</section>\n</div>'),e.put("views/home/story-1.html.tpl",'<heading class="heading story-heading ">\n	<div class="text-uppercase heading-title--large padding--bottom--large padding--bottom--none--small">\n		<h2 class="type--sans-alt margin--top--small--medium">The world isn\'t flat</h2>\n	</div>\n</heading>\n<div class="story-body margin--bottom--large ">\n	<p class="text-thin type--sans-alt">And from this moment onwards, neither are your photos. You can now capture and share life as you see it, with 3D photos taken on your phone with <strong><em>Seene</em></strong>.</p>\n</div>'),e.put("views/home/story-2.html.tpl",'<div class="story-body margin--bottom--large ">\n	<h2 class="text-thin type--sans-alt line-height--large margin--top--none hidden-sm"><strong><em>Seene</em></strong> lets you capture, share and discover 3D photos easily and instantly, all on your iPhone.</h2>\n	<p class="text-thin type--sans-alt margin--top--none visible-sm"><strong><em>Seene</em></strong> lets you capture, share and discover 3D photos easily and instantly, all on your iPhone.</p>\n</div>'),e.put("views/legal/privacy.html.tpl",'<div class="legal col-12 padding--none overflow-hidden--x">\n	<div class="col-12 padding--none margin--bottom--none">\n		<div class="col-lg-8 col-sm-8 col-push-2 padding--small margin--top--large background--hero"></div>\n		<section class="clearfix well well-light col-lg-8 col-sm-8 col-push-2 padding--medium  margin--none color--darker border--top--none">\n			<div class="col-12 padding--large padding--top--none">\n				<h1>Obvious Engineering Limited &ndash; Privacy Policy</h1>\n				<p>As the operators of the &ldquo;Seene&rdquo; mobile application (&ldquo;<strong>App</strong>&rdquo;) and <a href="http://seene.co">http://seene.co</a> (&ldquo;<strong>Website</strong>&rdquo;) (together the &ldquo;<strong>Services</strong>&rdquo;), Obvious Engineering Limited (&ldquo;<strong>we</strong>&rdquo;, &ldquo;<strong>us</strong>&rdquo;, &ldquo;<strong>our</strong>&rdquo;) is committed to protecting and respecting your privacy. This Privacy Policy (&ldquo;<strong>Policy</strong>&rdquo;) sets out the basis on which the personal data collected from you, or that you provide to us will be processed by us. Please read the following carefully to understand our views and practices regarding your personal data and how we will treat it.</p>\n\n				<h2>Information we may collect from you</h2>\n				<p>We may collect and process the following information from you:</p>\n				<ul>\n					<li>Information that you provide by registering for use of our Services. This includes information provided at the time of posting material or requesting further information or services. We may also ask you for information when you report a problem with our Services.</li>\n					<li>User Submissions, which include photos and comments, taken by you.</li>\n					<li>If you contact us, we may keep a record of that correspondence.</li>\n					<li>We may also ask you to complete surveys that we use for research purposes, although you do not have to respond to them.</li>\n					<li>Details of your visits to our App and/or Website including, but not limited to, traffic data, location data, weblogs and other communication data, and the resources that you access.</li>\n				</ul>\n				<p>Device information: We may collect information about the device you may use to access the Website or download or stream a copy of the App or access the Website onto your device, including, where available, the device\'s unique device identifiers, operating system, browser type and mobile network information as well as the device\'s telephone number, for system administration and to collate aggregate information.</p>\n				<p>Log information: when you use the App or the Website, we may automatically collect and store certain information in server logs, including but not limited to internet protocol (<strong>IP</strong>) addresses, internet service provider (<strong>ISP</strong>), clickstream data, browser type and language, viewed and exit pages and date or time stamps.</p>\n\n				<h2>Retention of your personal data</h2>\n				<p>We take appropriate measures to ensure that any personal data is kept secure and kept for the duration of your use of the Services. Unfortunately, the transmission of information via the internet is not completely secure. Although we will do our best to protect your personal data, we cannot guarantee the security of your data when transmitted to our App or Website; any transmission is at your own risk. Once we have received your information, we will use strict procedures and security features to try to prevent unauthorised access.</p>\n				<p>You acknowledge and agree that any personal data published by you using the Services is at your sole discretion and is accessible by the public.</p>\n				<p>If your personal details change you may update them by accessing the relevant page of the App and/or the Website. If you have any questions about how we use data collected which relates to you, please contact us by sending a request by email to the contact details below.</p>\n\n				<h2>Uses made of your information</h2>\n				<p>We use information held about you in the following ways:\n				<ul>\n					<li>To ensure that content from our App and Website is presented in the most effective manner for you and for your computer.</li>\n					<li>To provide you with information, products or services that you request from us or which we feel may interest you, where you have consented to be contacted for such purposes.</li>\n					<li>To carry out our obligations arising from any contracts entered into between you and us.</li>\n					<li>To notify you about new information, updates, and other changes to our Services.</li>\n					<li>To manage your account.</li>\n				</ul>\n				<p>In addition to the above uses we may use your information, or permit selected third parties to use your information, to notify you about goods or services which may be of interest to you. For such uses we will only contact you by electronic means (e-mail or SMS) if you have consented to such communication when we collect your data.</p>\n\n				<h2>Disclosure of your information</h2>\n				<p>We may disclose your personal information to any member of our group, which means our subsidiaries, our ultimate holding company and its subsidiaries, as defined in section 1159 of the UK Companies Act 2006 (where applicable).</p>\n				<p>We may disclose your personal information to third parties:</p>\n				<ul>\n					<li>in the event that we sell or buy any business or assets, in which case we may disclose your personal data to the prospective seller or buyer of such business or assets; or</li>\n					<li>if we or substantially all of our assets are acquired by a third party, in which case personal data held by us about our customers will be one of the transferred assets; or</li>\n					<li>if we are under a duty to disclose or share your personal data in order to comply with any legal obligation, or in order to enforce or apply our Terms and Conditions and other agreements; or</li>\n					<li>to protect the rights, property, or safety of Obvious Engineering Limited, the App, the Website, our users and any third party we interact with to provide the Services.</li>\n				</ul>\n\n				<h2>Your rights</h2>\n				<p>You have the right to ask us not to process your personal data for marketing purposes. We will usually inform you (before collecting your data) if we intend to use your data for such purposes or if we intend to disclose your information to any third party for such purposes. You can exercise your right to prevent such processing by checking/ticking certain tick boxes we use to collect your data. You can also exercise the right at any time by contacting us using our contact details set out below.</p>\n				<p>The App and/or the Website may, from time to time, contain links to and from the websites or mobile apps of our partner networks, advertisers and affiliates. If you follow a link to any of these websites or apps, please note that these websites or apps have their own privacy policies and terms of use and that we do not accept any responsibility or liability for these policies and terms of use. Please check these policies before you submit any personal data to these websites or apps.</p>\n\n				<h2>Children&rsquo;s privacy</h2>\n				<p>Where your User Submissions contain the personal data of children under the age of 13 years, you acknowledge that you must have obtained the consent of the child&rsquo;s parent or guardian prior to posting such User Submissions using the App and/or the Website. In the event that we learn that your User Submissions contains personal data of a child under the age of 13 years, we reserve the right to remove and delete the User Submission without your consent or prior notice to you. If you believe that any User Submissions appearing on the App and/or the Website contain the personal data of a child under 13 years, please contact us at the e-mail address provided below.</p>\n\n				<h2>Access to information</h2>\n				<p>The Data Protection Act gives you the right to access information held about you. Your right of access can be exercised in accordance with the Data Protection Act. Any access request may be subject to a fee of £10 to meet our costs in providing you with details of the information we hold about you.</p>\n\n				<h2>Changes to our Privacy Policy</h2>\n				<p>We reserve the right to modify this Privacy Policy at any time. Any changes we may make to our Privacy Policy in the future will be notified and made available to you using the App and/or the Website. Your continued use of the services and the App and/or Website shall be deemed your acceptance of the varied Privacy Policy.</h2>\n\n				<h2>Contact</h2>\n				<p>All questions, comments and requests regarding this Privacy Policy should be addressed to <a href="mailto:hello@seene.co">hello@seene.co</a></p>\n			</div>\n		</section>\n		<div class="col-lg-8 col-sm-8 col-push-2 padding--small background--hero"></div>\n	</div>\n</div>'),e.put("views/legal/terms.html.tpl",'<div class="legal col-12 padding--none overflow-hidden--x">\n	<div class="col-12 padding--none margin--bottom--none">\n		<div class="col-lg-8 col-sm-8 col-push-2 padding--small margin--top--large background--hero"></div>\n		<section class="clearfix well well-light col-lg-8 col-sm-8 col-push-2 padding--medium  margin--none color--darker border--top--none">\n			<div class="col-12 padding--large padding--top--none">\n				<h1>Seene &ndash; Terms of Service</h1>\n				<p>This document sets out the terms and conditions (&ldquo;<strong>Terms</strong>&rdquo;) on which Obvious Engineering Limited, company registration no. 07979343 and having its registered address at Units 9 &amp; 10 The Waterhouse, 8 Orsman Road, London, N1 5QJ (&ldquo;<strong>we</strong>&rdquo;, &ldquo;<strong>us</strong>&rdquo; or &ldquo;<strong>our</strong>&rdquo;) provide you (&ldquo;<strong>you</strong>&rdquo;, &ldquo;<strong>your</strong>&rdquo; or &ldquo;<strong>user</strong>&rdquo;) with the mobile version of &ldquo;Seene&rdquo; (&ldquo;<strong>the app</strong>&rdquo;) and/or access to <a href="http://seene.co/">http://seene.co</a> (&ldquo;<strong>website</strong>&rdquo;). Please read these terms  carefully before using the app or accessing the website. You acknowledge and agree that by accessing the website and/or downloading and installing the app, you agree to be bound by these terms. If you do not accept these terms, you will not be able to use the app and you are not permitted to access the website.</p>\n\n				<h2>1. Definitions</h2>\n				<p>&ldquo;Account&rdquo; means the information held by Us about You, such information having been submitted by You;</p>\n				<p>&ldquo;Device Requirements&rdquo; means the minimum specifications required for Your device to install and Use all features of the App and/or the Website, as specified by Us from time to time;</p>\n				<p>&ldquo;Login Details&rdquo; means usernames and passwords created by You during creation of Your Account and granting you access to the App and/or the Website;</p>\n				<p>&ldquo;Services&rdquo; means the App and/or the Website, and use of the Services means use of the App, the Website or both;</p>\n				<p>&ldquo;Use&rdquo; means use of the Services for Your own personal and non commercial use. For the avoidance of doubt, all rights to modify, amend, enhance, sell, licence, rent and provide services to third parties, are hereby expressly excluded to the fullest extent possible.</p>\n\n				<h2>2. Information about Obvious Engineering and the App</h2>\n				<p>2.1 The App and the Website are owned and managed by Obvious Engineering Limited. All information supplied on the App and the Website is managed by Obvious Engineering Limited.</p>\n				<p>2.2 The App is a mobile application permitting Users to take 3D photographs, together with such other features and functionality as provided by Obvious Engineering from time to time. Certain features may be dependent on third party hardware and/or technology in order to function.</p>\n				<p>2.3 We reserve the right to make any changes to the App and/or the Website, including any functionality, or to discontinue any aspect of the same without notice to You.</p>\n				<p>2.4 We rely on third party providers (such as network providers, data centres and telecommunication providers) to make the Services available to You. Whilst We take all reasonable steps available to provide You with a good level of service, You acknowledge and agree that We do not warrant that Your use of the Services shall be uninterrupted or fault-free at all times.</p>\n				<p>2.5 Obvious Engineering can be contacted by writing to Obvious Engineering Limited, Units 9 &amp; 10 The Waterhouse, 8 Orsman Road, London, N1 5QJ, UK or by e-mail to <a href="mailto:hello@seene.co">hello@seene.co</a>.</p>\n\n				<h2>3. Downloading the App</h2>\n				<p>3.1 By downloading the App and creating an Account, You warrant that:</p>\n				<div style="margin-left:20px">\n				<p>3.1.1 You are legally capable of entering into binding contracts;</p>\n				<p>3.1.2 You are 18 years old or above; and</p>\n				<p>3.1.3 You are not in any way prohibited by the applicable law in the jurisdiction which you are currently located to enter into these Terms for the use of the Services.</p>\n				</div>\n				<p>3.2 In order to use all features of the App and the Website, You will need to create an Account with Us by completing and submitting to Us a registration form. By creating an Account, You consent to Us conducting verification and security procedures in respect of the information provided by You. If You don&rdquo;t create an Account Us, you acknowledge that You will only be able to access certain functions of the App.</p>\n				<p>3.3 You hereby warrant that the information provided by You to Us is true, accurate and correct.  You further warrant that You shall promptly notify Us in the event of any changes to such information provided.</p>\n				<p>3.4 You shall keep Your Login Details confidential and secure. Without prejudice to Our rights and remedies, We reserve the right to promptly disable Your Login Details and suspend your access to the Services in the event We have any reason to believe that You have breached any of the provisions set out herein.</p>\n				<p>3.5 From time to time updates to the App may be issued through the applicable &ldquo;app store&rdquo;. Depending on the update, you may not be able to use the App until you have downloaded or streamed the latest version of the App and accepted any new terms.</p>\n\n				<h2>4. Rights and Restrictions</h2>\n				<p>4.1 Subject to the Terms, We hereby grant to You a non-exclusive, non-transferable and non sub-licensable licence to:\n				<div style="margin-left:20px">\n				<p>4.1.1 access the Website; and</p>\n				<p>4.1.2 download, install and Use the App on Your mobile device.</p>\n				<p>This licence is in respect of Your Use of the Services only.</p>\n				</div>\n				<p>4.2 Except as expressly permitted in these Terms, You shall not, and shall not permit others to (i) modify, translate, create derivative copies of or copy the App or the Website, in whole or in part; (ii) reverse engineer, decompile, disassemble or otherwise reduce the object code of the App or the Website to source code form; (iii) distribute, sub-licence, assign, share, timeshare, sell, rent, lease, grant a security interest in, use for service bureau purposes, or otherwise transfer the App or the Website or Your right to Use the App or the Website; (iv) remove or modify any copyright, trademark, or other proprietary notices belonging to Us or our licensors contained within the App or the Website; or (v) use the App or the Website in any manner not expressly authorised by these Terms.</p>\n				<p>4.3 We reserve the right to make changes to the Services or part thereof from time to time including without limitation, the removal, modification and/or variation of any aspect, elements, features and functionalities of the Services without notice to You.</p>\n				<p>4.4 Without prejudice to Our other rights and remedies, We reserve the right to temporarily or permanently suspend or disable Your access to the Services at any time without notice to You.</p>\n				<p>4.5 In the event that We, in Our sole discretion, consider that You are making any illegal and/or unauthorised use of the Services, and/or your Use of the Services is in breach of these Terms, We reserve the right to take any action that We deem necessary, including terminating without notice Your Use of the Services and, in the case of illegal use, instigating legal proceedings.</p>\n\n				<h2>5. Use of Apps</h2>\n				<p>5.1 Where You access the App, You acknowledge and agree that:</p>\n				<div style="margin-left:20px">\n				<p>5.1.1 We are in no way linked, connected or affiliated with Apple, Google, Microsoft or such other mobile &ldquo;apps&rdquo; provider;</p>\n				<p>5.1.2 access to and use of the App may be limited by Your network carrier and may be limited if You are attempting to access the App from outside the United Kingdom;</p>\n				<p>5.1.3 You acknowledge You may not be able to access and use certain functionalities of the App unless You have internet access through a GPRS, 3G, 4G or Wi-Fi connected mobile device. All traffic charges or access charges incurred due to the use of the App are subject to Your agreed terms with Your mobile network provider.</p>\n				<p>5.1.4 neither Your airtime provider nor any App kiosk or kiosk operator shall bear any responsibility or liability whatsoever in relation to sale, distribution, functionality, accessibility, performance or non-performance of the App;</p>\n				<p>5.1.5 Your airtime provider and any App kiosk or kiosk operator (including but not limited to &ldquo;Google Play App Store&rdquo;, &ldquo;Apple App Store&rdquo;, &ldquo;Amazon Appstore&rdquo; and &ldquo;Windows Phone Marketplace&rdquo;) are third party beneficiaries in respect of this clause 5.1 and accordingly have the right to enforce the provisions of this clause 5.1;</p>\n				<p>5.1.6 We are solely responsible for providing any support and maintenance in respect of the App; and</p>\n				<p>5.1.7 You will comply with any applicable third party terms and conditions in Your use of the App.</p>\n				</div>\n				<p>5.2 Further, where You access the App via an app obtained from the Apple &ldquo;App Store&rdquo;, You acknowledge and agree that:</p>\n				<div style="margin-left:20px">\n				<p>5.2.1 You are not located in a country that is subject to a US Government embargo or that has been designated by the US Government as a &ldquo;terrorist supporting&rdquo; country;</p>\n				<p>5.2.2 You are not listed on any US Government list of prohibited or restricted parties;</p>\n				<p>5.2.3 these Terms are concluded between You and Us and accordingly Apple is not a party to these Terms;</p>\n				<p>5.2.4 Apple has no obligation to provide any maintenance and support services in respect of the App;</p>\n				<p>5.2.5 if the App fails to conform to any warranty herein, You may notify Apple following which Apple will refund You the purchase price paid for the App (if any). Apple will have no further liability whatsoever in respect of any such failure;</p>\n				<p>5.2.6 Apple has no responsibility to address any claims by You or any third party whatsoever with respect to the App;</p>\n				<p>5.2.7 Apple shall not be responsible for any claims made by any third party that the App infringes any third party intellectual property rights; and</p>\n				<p>5.2.8 &ldquo;App Store&rdquo; and &ldquo;Apple&rdquo; are trade marks of Apple Inc.</p>\n				</div>\n\n				<h2>6. Your Obligations</h2>\n				<p>6.1 You shall not submit to appear on the App or the Website any information, comments, images, photos, third party URL links or other material whatsoever in any format (&ldquo;<strong>User Submissions</strong>&rdquo;) that, in Our reasonable opinion, may be deemed to be offensive, illegal, inappropriate or that in any way:</p>\n				<div style="margin-left:20px">\n				<p>6.1.1 promote racism, bigotry, hatred or physical harm of any kind against any group or individual;</p>\n				<p>6.1.2 harass or advocate harassment of another person;</p>\n				<p>6.1.3 display pornographic or sexually explicit material;</p>\n				<p>6.1.4 promote any conduct that is abusive, threatening, obscene, defamatory or libellous;</p>\n				<p>6.1.5 promote any illegal activities;</p>\n				<p>6.1.6 provide instructional information about illegal activities, including violating someone else&#39;s privacy or providing or creating computer viruses;</p>\n				<p>6.1.7 promote or contain information that you know or believe to be inaccurate, false or misleading;</p>\n				<p>6.1.8 engage in or promote commercial activities and/or sales, including but not limited to contests, sweepstakes, barter, advertising and pyramid schemes, without Our prior written consent;</p>\n				<p>6.1.9 infringe any rights of any third party.</p>\n				</div>\n				<p>6.2 You agree that We may, at Our sole discretion, choose to display or to remove any User Submission or any part of the same that you make using the App or the Website, and you hereby grant to Us a non-exclusive, perpetual, irrevocable, worldwide licence to do so.</p>\n				<p>6.3 Nothing in these terms will transfer ownership of Your User Submissions to Us. You hereby grant to Us a perpetual, non-exclusive, sub-licensable and irrevocable licence to use, copy, modify, reproduce, process, adapt, enhance, publish, distribute or otherwise utilise or commercially exploit Your User Submissions, including sub-licensing User Submissions to other individuals, companies or organisations for broadcast, distribution and/or publication and making the User Submission available to other Users of the Services.</p>\n				<p>6.4 You shall, at all times:</p>\n				<div style="margin-left:20px">\n				<p>6.4.1 comply with all applicable laws, regulations, directives and legislations in Your Use of the Services;</p>\n				<p>6.4.2 comply with any guidelines provided or reasonable instructions issued by Us from time to time in respect of Your Use of the Services, including any fair use or storage restrictions imposed by Us from time to time;</p>\n				<p>6.4.3 not do anything likely to impair, interfere with or damage or cause harm or distress to any persons using the Services;</p>\n				<p>6.4.4 not use the Services to commit any criminal act;</p>\n				<p>6.4.5 not use the Services and/or not do anything that shall or be reasonably deemed to infringe any Intellectual Property Rights or other rights of any third parties;</p>\n				<p>6.4.6 use the Services at Your own risk and be solely responsible for any illegal conduct, infringement of any third party Intellectual Property Rights and/or any breaches thereof or in any applicable laws and legislations;</p>\n				<p>6.4.7 notify Us immediately of any circumstances where any Intellectual Property Rights or any other rights of any third party may have been infringed; and</p>\n				<p>6.4.8 ensure Your device:</p>\n				<div style="margin-left:20px">\n				  <p>6.4.8.1 complies with the Device Requirements; and</p>\n				  <p>6.4.8.2 contains adequate anti-virus protection,</p>\n				</div>\n				and You acknowledge that We will not be liable for any loss or damage caused by a virus or other technologically harmful material that may infect Your device due to Your Use of the Services.\n				</div>\n\n				<h2>7. Term and Termination</h2>\n				<p>7.1 These Terms will remain in full force and effect while You Use the Services.</p>\n				<p>7.2 We may, at any time and for any reason, terminate these Terms with You and deny you access to the App and/or the Website, including but not limited to your breach of any of your obligations under clause 6 above.</p>\n				<p>7.3 In the event of termination of these Terms for any reason, You must not attempt to Use the Services and the rights and licences granted to You under this Agreement shall terminate.</p>\n				<p>7.4 Sections 6.3 and 7 to 10 inclusive shall survive termination of these Terms for any reason, and shall be valid and enforceable against You.</p>\n\n				<h2>8. Intellectual Property</h2>\n				<p>8.1 We own or have a licence to use all right, title and interest in and to the App and the Website. These Terms shall not be construed to convey title to or ownership of the App or the Website to You or any other User. All rights in and to the App and the Website are reserved by Us.</p>\n				<p>8.2 You are granted a non-transferable, non-exclusive, royalty-free, revocable licence to view the User Submissions for Your own personal and non commercial use.</p>\n				<p>8.3 You are expressly prohibited from removing, modifying, altering or using any registered or unregistered marks/logos owned by Us, and doing anything which may be seen to take unfair advantage of Our reputation and goodwill or could be considered an infringement of any of the intellectual property rights owned and/or licensed to Us, without first obtaining Our written permission.</p>\n				<p>8.4 You may provide feedback or suggestions in respect of Your use of the Services and that We are free to use such feedback and/or suggestions as We deem appropriate and without further obligation to You.</p>\n\n				<h2>9. Warranties and Liabilities</h2>\n				<p>9.1 Subject to clauses 9.2 and 9.3, if We fail to comply with these Terms, We shall be entitled to be given a reasonable opportunity to rectify any errors and to re-perform Our obligations hereunder. If Our failure to comply with Our obligations is not remedied as in this clause 9.1, then We shall only be liable for losses (whether arising on contract, tort (including negligence) or otherwise) which are a reasonably foreseeable consequence of such failure, up to a maximum of one hundred pounds sterling (£100.00).</p>\n				<p>9.2 We shall not be responsible for any:</p>\n				<div style="margin-left:20px">\n				<p>9.2.1 losses, damages, costs and expenses which were not reasonably foreseeable and incurred by You and could not have been reasonably foreseeable by You or Us on entering these Terms; or</p>\n				<p>9.2.2 loss of profits, contracts or business, loss of an anticipated outcome or anticipated savings.</p>\n				</div>\n				<p>9.3 We accept and do not limit Our liability to You for the following categories:</p>\n				<div style="margin-left:20px">\n				<p>9.3.1 death or personal injury;</p>\n				<p>9.3.2 negligent misrepresentation, fraud or fraudulent misrepresentation;</p>\n				<p>9.3.3 any breach of the obligations implied by section 12 of the Sale of Goods Act 1979 or section 2 of the Supply of Goods and Services Act 1982.</p>\n				</div>\n				<p>9.4 You acknowledge and agree that where the App and/or the Website includes views, opinions, advice or recommendations from other Users, such views, opinions, advice and recommendations are not endorsed by Us and to the maximum extent permitted by law, We exclude all liability for the accuracy, defamatory nature, completeness, timeliness, suitability or otherwise of such views, opinions, advice or recommendations.</p>\n				<p>9.5 Links to third party websites and companies may appear on the App and/or the Website. We accept no responsibility for the availability, suitability, reliability or content of such third party websites and do not necessarily endorse the views expressed within them.</p>\n\n				<h2>10. General</h2>\n				<p>10.1 You may keep a copy of these Terms, which form the entire agreement between You and Us and supersede any other communications or advertising with respect to the Services.</p>\n				<p>10.2 We may alter or amend these Terms at any time, with immediate effect. The new terms may be displayed on-screen and you may be required to read and accept them to continue your use of the Services. By continuing to use the Services after such alteration, You will be deemed to have accepted any amendment to these Terms.</p>\n				<p>10.3 These Terms and their performance shall be governed by and construed in accordance with the laws of England and Wales and the parties hereby submit to the exclusive jurisdiction of the courts of England and Wales. If you live outside the UK, English law shall apply only to the extent that it does not deprive you of any legal protection accorded under the law of the place where you are habitually resident. If English law deprives you of any legal protection which is accorded to you under your local law, these terms will be governed by your local law and any dispute or claim arising out of or in connection with these Terms shall be subject to the non-exclusive jurisdiction of the courts where you are habitually resident.</p>\n				<p>10.4 You shall comply with all foreign and local laws and regulations which apply to Your Use of the Services in whatever country You are physically located, including without limitation, consumer law, export control laws and regulations.</p>\n				<p>10.5 If any provision of these Terms is declared void, illegal, or unenforceable, the remainder of these Terms will be valid and enforceable to the extent permitted by applicable law. In such event, the parties agree to use their best efforts to replace the invalid or unenforceable provision by a provision that, to the extent permitted by the applicable law, achieves the purposes intended under the invalid or unenforceable provision.</p>\n				<p>10.6 Any failure by any party to these Terms to enforce at any time any term or condition under these Terms will not be considered a waiver of that party\'s right thereafter to enforce each and every term and condition of these Terms.</p>\n				<p>10.7 Neither party will be responsible for delays resulting from circumstances beyond the reasonable control of such party, provided that the nonperforming party uses reasonable efforts to avoid or remove such causes of non-performance and continues performance hereunder with reasonable dispatch whenever such causes are removed.</p>\n				<p>10.8 Nothing in these Terms shall give, directly or indirectly, any third party any enforceable benefit or any right of action against Us and such third parties shall not be entitled to enforce any term of these Terms against Us.</p>\n				<p>10.9 All notification and communication to us should be sent to the contact details made available to You through the Services.</p>\n				<p>10.10 If You feel that any materials appearing on the App and/or the Website are offensive, objectionable or potentially defamatory please contact Us by e-mailing us at <a href="mailto:report@seene.co">report@seene.co</a> providing full details of the nature of Your complaint and the materials to which the complaint relates.</p>\n			</div>\n		</section>\n		<div class="col-lg-8 col-sm-8 col-push-2 padding--small background--hero"></div>\n	</div>\n</div>'),e.put("views/nav/footer.html.tpl",'<div class="container">\n	<nav class="type--sans-alt col-11 col-lg-11 col-sm-11 center padding--none padding--top--medium nav-footer text-center margin--bottom--medium">\n		<div class="col-lg-12 col-sm-12 col-12 text-uppercase text-center">\n\n			<a href="{{appDownloadUrl}}" target="_blank" class="nav-footer-btn link-color--light padding--none text-center link-decoration--none btn btn-info text-decoration--none visible-sm" oe-track="footnav-download">\n				<span>Download</span>\n			</a>\n\n			<a href="http://twitter.com/seeneapp" target="_blank" class="nav-footer-btn btn btn-bg text-decoration--none link-color--primary padding--none link-decoration--none">\n				<span class="color--primary">Twitter</span>\n			</a>\n\n			<span class="fill-width--min border--right--primary--75 border-right--16 margin--large nav-footer-sep"></span>\n\n			<a href="http://seeneapp.tumblr.com/" target="_blank" class="nav-footer-btn btn btn-bg text-decoration--none link-color--primary padding--none link-decoration--none">\n				<span class="color--primary">Tumblr</span>\n			</a>\n\n			<span class="fill-width--min border--right--primary--75 border-right--16 margin--large nav-footer-sep"></span>\n\n			<a href="./about" class="nav-footer-btn btn btn-bg text-decoration--none link-color--primary padding--none link-decoration--none">\n				<span class="color--primary">About</span>\n			</a>\n\n			<span class="fill-width--min border--right--primary--75 border-right--16 margin--large nav-footer-sep"></span>\n\n			<a href="./faq" class="nav-footer-btn btn btn-bg  text-decoration--none link-color--primary padding--none  link-decoration--none">\n				<span class="color--primary">FAQ</span>\n			</a>\n\n			<span class="fill-width--min border--right--primary--75 border-right--16 margin--large nav-footer-sep"></span>\n\n			<a href="{{appDownloadUrl}}" target="_blank" class="nav-footer-btn link-color--light padding--none text-center link-decoration--none btn btn-info text-decoration--none hidden-sm--inline-block" oe-track="footnav-download">\n				<span>Download</span>\n			</a>\n\n		</div>\n		<div class="col-lg-12 col-sm-12 col-12 padding--none margin--top--medium margin--top--none--small text-center text-uppercase padding--top--medium">\n			<p class="color--gray-light margin--top--large">\n				<span class="padding--right--medium"><a href="/legal/tos" class="link-color--gray-light padding--none">Terms </a></span><span class="padding--right--medium"><a href="/legal/privacy" class="link-color--gray-light padding--none">Privacy </a></span><span class="padding--left--medium padding--left--none--small ">&copy; 2013 <a href="/" class="link-color--gray-light">Seene</a><span>\n			</p>\n		</div>\n	</nav>\n</div>\n'),e.put("views/nav/top.html.tpl",'<nav class="clearfix nav-top-wrap" ng-controller="TopNavCtrl">\n	<div class="z-index--tooltip col-12 padding--none clearfix nav-top is-collapsed" ng-class="{true: \'is-active\', false: \'is-collapsed\'}[state.active]">\n		<div class="clearfix background--primary">\n			<div class="col-lg-2 col-sm-1"></div>\n			<div class="col-lg-8 col-sm-10 col-12 text-uppercase text-center--small" >\n				<div class="col-12 col-lg-4 col-sm-4 padding--left--large text-center">\n					<a href="{{appDownloadUrl}}" target="_blank" class="link-color--info padding--none btn" oe-track="topnav-download">\n						<h2 class="margin--large">Get the app</h2>\n					</a>\n				</div>\n				<div class="col-12 col-lg-4 col-sm-4 padding--left--large text-center">\n					<a href="/faq" class="link-color--gray padding--none btn">\n						<h2 class="margin--large">FAQ</h2>\n					</a>\n				</div>\n				<div class="col-12 col-lg-4 col-sm-4 padding--left--large text-center">\n					<a href="/support" class="link-color--gray padding--none btn">\n						<h2 class="margin--large">Support</h2>\n					</a>\n				</div>\n			</div>\n			<div class="col-lg-2 col-sm-1"></div>\n		</div>\n	</div>\n	<div class="pos-abs pos-abs--right nav-toggle btn color--light link-color--primary--hover transition-all--quarter-sec" ng-click="state.active = !state.active;"  ng-class="{true: \'is-active\', false: \'\'}[state.active]">\n		<i class="icon icon-reorder icon-4x padding--large padding--medium--small"></i>\n	</div>\n</nav>'),e.put("views/scene/meta.html.tpl",'<div ng-controller="SceneMetaCtrl">\n	<div class="panel-meta--scene  padding--none margin--none clearfix background--transparent">\n		<div class="col-12 margin--none padding--none  panel panel-heading panel-fade panel-heading--slim" >\n			<div class="col-12 col-sm-12 col-lg-12 padding--bottom--medium" ng-hide="embed.show">\n                <div class="col-12 type--sans-alt padding--none margin--top--large margin--bottom--small">\n                        <div ng-if="scene.likes_count" class="col-6 pull-right text-right margin--bottom--medium">\n                            <i class="obvi-icon obvi-icon-star" style="margin-bottom:-6px"></i>\n                            <span class="margin--left--small"><strong>{{scene.likes_count}}</strong></span>\n                        </div>\n                        <p class="col-6 pull-left text-left margin--bottom--small margin--top--small color--gray"><strong>{{scene.created_at | fromNow}}</strong></p>\n                </div>\n                <h4 ng-if="scene.caption" class="col-12 margin--top--none padding--bottom--small padding--top--medium  margin--bottom--large text-overflow--breaker"> <strong>{{scene.caption}}</strong> </h4>\n			</div>\n			<div class="col-4 col-lg-2 col-sm-2 pull-right padding--top--large text-right text-center--small padding--top--none--small  padding--right--large--small" ng-hide="embed.show || !scene.view_count" >\n				<span ng-hide="!loggedIn" class="col-lg-4 col-sm-3 col-12 padding--top--small padding--bottom--large badge-huge badge-star col-push-4">\n					<i ng-click="starred = !starred" ng-class="{true: \'obvi-icon-star\', false: \'obvi-icon-star-empty\'}[starred]" class="obvi-icon"></i>\n				</span>\n				<div ng-hide="!scene.view_count">\n					<div class=" badge badge-clear badge-large padding--none padding--right--medium padding--none--small pull-right" ng-class="(loggedIn != null) ? \'\' : \'padding--top--large--small\'">\n						<p class="badge-title margin--bottom--small text-center">{{scene.view_count}}</p>\n						<p class="type--sans-alt margin--top--medium text-center badge-subtitle">Views</p>\n					</div>\n				</div>\n			</div>\n\n			<div class="col-12 padding--large padding--left--none padding--right--none" ng-show="embed.show">\n				<label for="select-dim" class="col-3 control-label"><h5>Choose size:</h5></label>\n				<select class="col-7" name="select-dim" ng-model="embed.selectedDim" ng-options="d.label for d in embed.dims"></select>\n				<div class="col-2 text-center" ng-click="embed.show=!embed.show"><span class="btn"><strong>x</strong></span></div>\n				<textarea class="embed-code col-11 margin--top--large margin--left--large" rows="3"><iframe src="{{embed.url}}" width="{{embed.selectedDim.value}}" height="{{embed.selectedDim.value}}" frameborder="0" seamless ></iframe></textarea>\n			</div>\n		</div>\n		<div class="col-12" ng-hide="!comments.length">\n			<ul class="list-group comment-group margin--top--large">\n				<li class="clearfix padding--medium list-group-item" ng-repeat="comment in scene.comments">\n					<div class="col-lg-2 col-sm-2 col-12 padding--none text-center">\n						<figure>\n							<img ng-src="{{ comment.avatar_url }}" class="col-lg-12 col-sm-12 col-3 col-push-5--small padding--none img-circle "/>\n						</figure>\n					</div>\n					<div class="col-lg-10 col-sm-10 col-12 padding--left--large text-center--small text-middle-wrap">\n						<p class="text-middle-inner">{{comment.text}}</p>\n					</div>\n				</li>\n			</ul>\n		</div>\n	</div>\n	<div class="col-12 padding--none text-center share share-panel--scene">\n		<button class="col-4 text-center btn btn-bg margin--left--none" title="Generate embed code" ng-click="embed.show=!embed.show">\n			<span style="line-height:33px;"><strong>&lt;&gt; Embed</strong></span>\n		</button>\n		<div class="col-4 text-center background--fb" ng-bind-html="fbLikeIframe">\n		</div>\n		<div class="col-4 text-center background--info" ng-bind-html="twIframe">\n		</div>\n\n	</div>\n\n</div>\n'),e.put("views/scene/show.html.tpl",'<div ng-controller="SceneCtrl" class="clearfix">\n	<div ng-if="!supports.iOS">\n		<a href="/" class="link-decoration--none link-color--primary"><div ng-include src="\'views/common/heading-brand.html.tpl\'" class="text-center margin--top--none visible-sm heading-scene " style="z-index:1000"></div></a>\n	</div>\n\n	<div ng-if="scene.poster.blur">\n		<div class="pos-fixed fill-width pos-fixed--top pos-fixed--bottom hidden-sm" ng-style="{\'background-image\':\'url({{scene.poster.blur}})\'}" style="background-size: 100%; background-size: cover;background-position: 50% 50%;"></div>\n\n	</div>\n\n	<div class="container fill-height padding--none" >\n		<div class="scene clearfix">\n			<div ng-if="supports.iOS" class="visible-sm">\n				<div ng-include src="\'views/common/badge-appopen.html.tpl\'" class="col-lg-6 col-sm-6 col-6 padding--none padding--bottom--small padding--top--none"></div>\n				<div ng-include src="\'views/common/badge-appstore.html.tpl\'" class="col-lg-6 col-sm-6 col-6 padding--none padding--bottom--small padding--top--none"></div>\n			</div>\n			<div class="scene-model container col-12 col-lg-5 col-sm-5  padding--none">\n				<div class="clearfix">\n					<div ng-controller="SceneModelCtrl" oe-move="trackInteraction($event)">\n						<div ng-if="scene.poster.blur">\n							<div class="pos-abs fill-width fill-height visible-sm" ng-style="{\'background-image\':\'url({{scene.poster.blur}})\'}" style="background-size: 100%; background-size: cover;background-position: 50% 50%;"></div>\n						</div>\n						<div ng-if="supports.webgl">\n		                	<div ng-if="!ready">\n		                        <div class="pos-abs pos-abs--top pos-abs--left loader loader-1 center z-index--modal"></div>\n		                    </div>\n\n		                	<div class="pos-abs fill-padding" ng-style="{\'background-image\':\'url({{scene.poster.blur}})\'}" style="background-size: 100%; background-size: cover;background-position: 50% 50%;"></div>\n\n		                   <div rn-lazy-background="\'{{scene.poster.iphone}}\'" rn-lazy-loading-class="opacity--1" rn-lazy-loaded-class="fill-padding" class="pos-abs fill-padding col-12 opacity--1 transition-all--half-sec pointer-events--none" style="background-size:cover; z-index: 90;" ng-class="{\'opacity--0\': !!ready}"></div>\n\n		                    <div obvi-model class="overflow-hidden--xy opacity--0 obvi-model col-12 col-lg-12 col-sm-12 padding--none text-center" ng-mousemove="onPointerMove($event)" ng-mouseenter="onPointerEnter($event)" ng-mouseleave="onPointerLeave($event)" ng-mousedown="onPointerDown($event)" ng-mouseup="onPointerUp($event)" style="" ng-class="{\'opacity--1\': !!ready}" ng-style="style()"></div>\n			            </div>\n			            <div ng-if="!supports.webgl">\n			            	<div ng-include src="\'views/common/webgl-not-supported.html.tpl\'" class="col-12 fill-width padding--none clearfix hidden-sm"></div>\n			            	<div ng-if="supports.iOS" ng-include src="\'views/common/webgl-not-supported.html.tpl\'" class="col-12 fill-width padding--none clearfix pos-abs visible-sm" style="z-index:1000"></div>\n			                <div rn-lazy-background="\'{{scene.poster.iphone}}\'" rn-lazy-loading-class=" loader loader-1" rn-lazy-loaded-class="fill-padding" class="col-12 loader loader-1 transition-all--quarter-sec clearfix" style="background-size:cover"></div>\n			                <div ng-if="!supports.iOS" ng-include src="\'views/common/webgl-not-supported.html.tpl\'" class="col-12 fill-width padding--none clearfix visible-sm"></div>\n			            </div>\n					</div>\n				</div>\n				<div class="col-lg-12 col-sm-12 col-12 padding--none" >\n					<div ng-include src="\'views/scene/meta.html.tpl\'" ></div>\n				</div>\n			</div>\n\n			<div class="col-12 col-sm-5 col-lg-4 pull-right panel-user padding--none">\n				<div class="clearfix">\n					<a href="/" class="link-decoration--none link-color--primary"><div ng-include src="\'views/common/heading-brand.html.tpl\'" class="text-center margin--bottom--large--small hidden-sm"></div></a>\n					<div ng-include src="\'views/user/panel.html.tpl\'" class="margin--top--large margin--top--none--small"></div>\n					<div ng-if="!supports.iOS">\n						<div ng-include src="\'views/common/badge-appstore.html.tpl\'" class="col-push-1 col-lg-10 col-sm-10 col-8 col-push-2--small padding--top--large"></div>\n					</div>\n					<div ng-if="supports.iOS" class="hidden-sm">\n						<div ng-include src="\'views/common/badge-appopen.html.tpl\'" class="col-push-1 col-lg-10 col-sm-10 col-8 col-push-2--small padding--top--large"></div>\n						<div ng-include src="\'views/common/badge-appstore.html.tpl\'" class="col-push-1 col-lg-10 col-sm-10 col-8 col-push-2--small padding--top--large"></div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n\n'),e.put("views/support/show.html.tpl",'<div class="status-page">\n	<div class="content">\n		<p class="headline headline-thin text-center--small padding--top--large margin--top--large">For Seene support, <span class="faux-break">please get in touch with us</span>  <span class="faux-break">at <a href="mailto:support@seene.co" class="link-color--primary">support@seene.co</a></span></p>\n	</div>\n</div>\n'),e.put("views/user/overlay-embed.html.tpl",'<div class="margin--none clearfix padding--left--large padding--left--medium--small padding--top--medium" ng-controller="UserCtrl">\n	<a href="{{appDownloadUrl}}" target="_blank" class="link-color--primary embed-cta transition-all--quarter-sec"><span class="text-uppercase">Get the app for free</span></a>\n	<div class="embed-meta col-12 padding--none margin--top--medium margin--top--small--small transition-all--quarter-sec">\n\n		<figure ng-if="user.avatar" class="avatar-embed padding--right--medium">\n			<img ng-src="{{ user.avatar }}" err-src="/images/b335b171.Seene-feed-splash-user-icon@2x.png"  src="/images/b335b171.Seene-feed-splash-user-icon@2x.png" class="img-circle" />\n		</figure>\n		<div class="embed-meta-body color--light padding--top--small text-overflow--ellipsis">\n			<span class="margin--top--medium"><strong>{{user.username}}</strong></span>\n		</div>\n	</div>\n</div>\n'),e.put("views/user/panel-short.html.tpl",'<div class="panel panel-fade margin--none clearfix" ng-controller="UserCtrl">\n	<div class="col-12 padding--none padding--left--small padding--right--small margin--bottom--none padding--bottom--none">\n		<div class="col-lg-4 col-sm-4 col-4 padding--left--none padding--right--none text-left">\n	      <h4 class="heading-heavy padding--top--medium padding--left--large margin--bottom--small">\n	        <span class="user-username">{{user.username}}</span>\n	        <span ng-if="!user.name || (user.name !== user.username)" class="user-name">{{user.name}}</span>\n	      </h4>\n		</div>\n		<div class="col-lg-4 col-sm-4 col-4 padding--left--none">\n			<figure class="text-center">\n				<img ng-src="{{ user.avatar }}" err-src="/images/b335b171.Seene-feed-splash-user-icon@2x.png"  src="/images/b335b171.Seene-feed-splash-user-icon@2x.png" class="img-circle"/>\n			</figure>\n		</div>\n	</div>\n</div>\n'),e.put("views/user/panel.html.tpl",'<div class="panel panel-fade margin--none margin--bottom--large clearfix" ng-controller="UserCtrl">\n	<div class="col-12 padding--large padding--left--small padding--right--small margin--bottom--small">\n		<div class="col-lg-5 col-sm-5 col-5 padding--left--none">\n			<figure class="text-center">\n				<img ng-src="{{ user.avatar }}" err-src="/images/b335b171.Seene-feed-splash-user-icon@2x.png"  src="/images/b335b171.Seene-feed-splash-user-icon@2x.png" class="img-circle"/>\n			</figure>\n		</div>\n		<div class="col-lg-7 col-sm-7 col-7 padding--left--none padding--right--none text-left text-center--small">\n      <h4 class="heading-heavy padding--top--medium margin--bottom--small">\n        <span class="user-username">{{user.username}}</span>\n        <span ng-if="!user.name || (user.name !== user.username)" class="user-name color--gray">{{user.name}}</span>\n      </h4>\n		</div>\n		<div class="col-12 margin--top--large padding--top--medium">\n			<div ng-if="user.bio">\n				<p class=" color--gray">{{user.bio}}</p>\n			</div>\n		</div>\n	</div>\n	<div class="col-12 padding--medium" ng-hide="!user.description">\n		<p>{{user.bio}}</p>\n		<div class="">\n			<a href="{{user.url}}" class="link-color--dark"><p class="text-center">{{user.url}}</p></a>\n		</div>\n	</div>\n	<div class="col-12">\n		<div class="col-12 padding--none padding--bottom--large border--bottom border--thin border--dark">\n			<div class="col-4 padding--left--small margin--top--medium text-left">Following</div>\n			<div class="col-8 padding--left--none padding--right--small pull-right text-right text-overflow--ellipsis">\n				<span class="badge badge-clear badge-dark badge-large ">{{user.followings_count}}</span>\n			</div>\n		</div>\n		<div class="col-12 padding--none  padding--top--large">\n			<div class="col-4 padding--left--small margin--top--small text-left">Followers</div>\n			<div class="col-8 padding--left--none padding--right--small pull-right text-right text-overflow--ellipsis">\n				<span class="badge badge-clear badge-dark badge-large">{{user.followers_count}}</span>\n			</div>\n		</div>\n	</div>\n</div>\n')}}),define("app",["angular","ngTouch","ngRoute","ngAnimate","restangular","./config","./filters/index","./services/index","./directives/index","./controllers/index","./experiments/index","compiledTemplates"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=e.module("app",["ngTouch","ngRoute","ngAnimate","restangular","app.constants","app.controllers","app.filters","app.services","app.directives","app.experiments"]).config(["$compileProvider",function(e){return e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|seene):/)}]);return c&&h.run(["$templateCache",function(e){c(e)}]),h}),define("domReady",[],function(){function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),define("services/general",["./index"],function(e){e.value("version","0.1"),e.factory("noop",function(){return function(){}}),e.factory("onAnimate",["$window","$rootScope",function(e,t){var n=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.webkitRequestAnimationFrame;return function(e){return n(function(){return t.$apply(e)})}}]),e.factory("sequence",["$timeout","noop","$q",function(e,t,n){var r=function i(r,s,o){r=angular.isArray(r)?r:[r],s=s||{};var u=[],a,o=o||0,f=0;return angular.forEach(r,function(n){n=n||{},f+=n.delay||0;var r=n.callback||t,i=e(function(){r(i,s,o)},f);u.push(i)}),a=n.all(u),s.loop&&a.then(function(){return i(r,s,++o)}),a};return r}]),e.factory("onResize",["$window","$rootScope",function(e,t){var n=angular.element(e);return function(e){return n.bind("resize",e),function(){n.unbind("resize",e)}}}]),e.factory("onMouseUp",["$window","$rootScope",function(e,t){var n=angular.element(e);return function(e){return n.bind("mouseup",e),function(){n.unbind("mouseup",e)}}}]),e.factory("debounce",["$timeout","$q",function(e,t){return function(n,r,i){var s,o=t.defer();return function(){var u=this,a=arguments,f=function(){s=null,i||(o.resolve(n.apply(u,a)),o=t.defer())},l=i&&!s;return s&&e.cancel(s),s=e(f,r),l&&(o.resolve(n.apply(u,a)),o=t.defer()),o.promise}}}])}),define("services/models",["./index"],function(e){e.factory("Scene",["config","appBootstrapData","$q","Restangular","$routeParams",function(e,t,n,r,i){var s=t.scene;if(s){var o=n.defer();o.resolve(s)}else s=r.one("api/-/scenes",i.short_code);return{get:function(){return o?o.promise:s.get()}}}])}),define("services/nav",["./index"],function(e){e.factory("TopNavState",["config",function(e){var t={active:!1};return t}]),e.factory("Page",["config",function(e){var t=e.appName;return{title:function(){return t},setTitle:function(e){t=e,document.title=t}}}])}),define("services/abba",["./index"],function(e){e.factory("Abba",function(){return window.Abba||null})}),define("services/ga",["./index"],function(e){e.factory("Ga",function(){return window.ga||angular.noop})}),define("threejs",[],function(){return window.THREE||{}}),define("services/oe",["./index","threejs"],function(e,t){var n=function(){t.Loader.call(this),this.crossOrigin="use-credentials"};n.prototype=Object.create(t.Loader.prototype),n.prototype.parseBinary=function(e,n){function c(e,n,r,i){e.vertices.push(new t.Vector3(n,r,i))}function h(e,n,r,i,s){e.faces.push(new t.Face3(n,r,i,null,null,s))}function p(e,n,r,i,s,o){e.faces.push(new t.Face4(n,r,i,s,null,null,o))}function d(e,n,r,i,s,o,u,a,f){var l=n[u*3],c=n[u*3+1],h=n[u*3+2],p=n[a*3],d=n[a*3+1],v=n[a*3+2],m=n[f*3],g=n[f*3+1],y=n[f*3+2];e.faces.push(new t.Face3(r,i,s,[new t.Vector3(l,c,h),new t.Vector3(p,d,v),new t.Vector3(m,g,y)],null,o))}function v(e,n,r,i,s,o,u,a,f,l,c){var h=n[a*3],p=n[a*3+1],d=n[a*3+2],v=n[f*3],m=n[f*3+1],g=n[f*3+2],y=n[l*3],b=n[l*3+1],w=n[l*3+2],E=n[c*3],S=n[c*3+1],x=n[c*3+2];e.faces.push(new t.Face4(r,i,s,o,[new t.Vector3(h,p,d),new t.Vector3(v,m,g),new t.Vector3(y,b,w),new t.Vector3(E,S,x)],null,u))}function m(e,n,r,i,s,o,u){e.push([new t.Vector2(n,r),new t.Vector2(i,s),new t.Vector2(o,u)])}function g(e,n,r,i,s,o,u,a,f){e.push([new t.Vector2(n,r),new t.Vector2(i,s),new t.Vector2(o,u),new t.Vector2(a,f)])}var r,i,s,o,u,a,f,l=function(){function I(e,t){var n={version:z(e,t),camera_width:z(e,t+4),camera_height:z(e,t+8),camera_fx:W(e,t+12),camera_fy:W(e,t+16),camera_k1:W(e,t+20),camera_k2:W(e,t+24),depthmap_width:z(e,t+28),depthmap_height:z(e,t+32),header_bytes:36};return n}function q(e,t,n){var r=new Uint8Array(e,t,n),i="";for(var s=0;s<n;s++)i+=String.fromCharCode(r[t+s]);return i}function R(e,t){var n=new Uint8Array(e,t,1);return n[0]}function U(e,t){var n=new Uint32Array(e,t,1);return n[0]}function z(e,t){var n=new Int32Array(e,t,1);return n[0]}function W(e,t){var n=new Float32Array(e,t,1);return n[0]}function X(t){var i=r.nvertices,s=new Float32Array(e,t,i*3),o,u,a,f;for(o=0;o<i;o++)u=s[o*3],a=s[o*3+1],f=s[o*3+2],c(n,u,a,f);return i*3*Float32Array.BYTES_PER_ELEMENT}function V(t){var n=r.nnormals;if(n){var i=new Int8Array(e,t,n*3),s,u,a,f;for(s=0;s<n;s++)u=i[s*3],a=i[s*3+1],f=i[s*3+2],o.push(u/127,a/127,f/127)}return n*3*Int8Array.BYTES_PER_ELEMENT}function $(t){var n=r.nuvs;if(n){var i=new Float32Array(e,t,n*2),s,o,a;for(s=0;s<n;s++)o=i[s*2],a=i[s*2+1],u.push(o,a)}return n*2*Float32Array.BYTES_PER_ELEMENT}function J(t,r){var i,s,o,a,f,l,c,h,p,d,v=new Uint32Array(e,r,3*t);for(i=0;i<t;i++)s=v[i*3],o=v[i*3+1],a=v[i*3+2],f=u[s*2],h=u[s*2+1],l=u[o*2],p=u[o*2+1],c=u[a*2],d=u[a*2+1],m(n.faceVertexUvs[0],f,h,l,p,c,d)}function K(t,r){var i,s,o,a,f,l,c,h,p,d,v,m,y,b=new Uint32Array(e,r,4*t);for(i=0;i<t;i++)s=b[i*4],o=b[i*4+1],a=b[i*4+2],f=b[i*4+3],l=u[s*2],d=u[s*2+1],c=u[o*2],v=u[o*2+1],h=u[a*2],m=u[a*2+1],p=u[f*2],y=u[f*2+1],g(n.faceVertexUvs[0],l,d,c,v,h,m,p,y)}function Q(t,r,i){var s,o,u,a,f,l=new Uint32Array(e,r,3*t),c=new Uint16Array(e,i,t);for(s=0;s<t;s++)o=l[s*3],u=l[s*3+1],a=l[s*3+2],f=c[s],h(n,o,u,a,f)}function G(t,r,i){var s,o,u,a,f,l,c=new Uint32Array(e,r,4*t),h=new Uint16Array(e,i,t);for(s=0;s<t;s++)o=c[s*4],u=c[s*4+1],a=c[s*4+2],f=c[s*4+3],l=h[s],p(n,o,u,a,f,l)}function Y(t,r,i,s){var u,a,f,l,c,h,p,v,m=new Uint32Array(e,r,3*t),g=new Uint32Array(e,i,3*t),y=new Uint16Array(e,s,t);for(u=0;u<t;u++)a=m[u*3],f=m[u*3+1],l=m[u*3+2],h=g[u*3],p=g[u*3+1],v=g[u*3+2],c=y[u],d(n,o,a,f,l,c,h,p,v)}function Z(t,r,i,s){var u,a,f,l,c,h,p,d,m,g,y=new Uint32Array(e,r,4*t),b=new Uint32Array(e,i,4*t),w=new Uint16Array(e,s,t);for(u=0;u<t;u++)a=y[u*4],f=y[u*4+1],l=y[u*4+2],c=y[u*4+3],p=b[u*4],d=b[u*4+1],m=b[u*4+2],g=b[u*4+3],h=w[u],v(n,o,a,f,l,c,h,p,d,m,g)}function et(e){var t=r.ntri_flat;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*3;Q(t,e,n)}}function tt(e){var t=r.ntri_flat_uv;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*3,i=n+t*Uint32Array.BYTES_PER_ELEMENT*3;Q(t,e,i),J(t,n)}}function nt(e){var t=r.ntri_smooth;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*3,i=n+t*Uint32Array.BYTES_PER_ELEMENT*3;Y(t,e,n,i)}}function rt(e){var t=r.ntri_smooth_uv;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*3,i=n+t*Uint32Array.BYTES_PER_ELEMENT*3,s=i+t*Uint32Array.BYTES_PER_ELEMENT*3;Y(t,e,n,s),J(t,i)}}function it(e){var t=r.nquad_flat;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*4;G(t,e,n)}}function st(e){var t=r.nquad_flat_uv;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*4,i=n+t*Uint32Array.BYTES_PER_ELEMENT*4;G(t,e,i),K(t,n)}}function ot(e){var t=r.nquad_smooth;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*4,i=n+t*Uint32Array.BYTES_PER_ELEMENT*4;Z(t,e,n,i)}}function ut(e){var t=r.nquad_smooth_uv;if(t){var n=e+t*Uint32Array.BYTES_PER_ELEMENT*4,i=n+t*Uint32Array.BYTES_PER_ELEMENT*4,s=i+t*Uint32Array.BYTES_PER_ELEMENT*4;Z(t,e,n,s),K(t,i)}}var n=this,i=0,s=[],o=[],u=[],a,f,l,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;t.Geometry.call(this),r=I(e,i),r.version!=2&&console.error("OEModelLoader: Unsupported model version ["+r.version+"]"),i+=r.header_bytes;var s=new Float32Array(e,i,r.depthmap_width*r.depthmap_height),D=r.camera_fx/r.camera_width,P=r.camera_fy/r.camera_height;for(var H=0;H<r.depthmap_height;++H)for(var B=0;B<r.depthmap_width;++B){var j=s[H*r.depthmap_width+B];this.vertices.push(new t.Vector3(j*((B+.5)/r.depthmap_width-.5)/D,-j*((H+.5)/r.depthmap_height-.5)/P,-(j-1))),u.push((B+.5)/r.depthmap_width),u.push(1-(H+.5)/r.depthmap_height);if(H>0&&B>0){var F=[(H-1)*r.depthmap_width+B-1,(H-1)*r.depthmap_width+B,H*r.depthmap_width+B-1,H*r.depthmap_width+B];h(n,F[0],F[2],F[1],0),h(n,F[1],F[2],F[3],0),m(n.faceVertexUvs[0],u[F[0]*2],u[F[0]*2+1],u[F[2]*2],u[F[2]*2+1],u[F[1]*2],u[F[1]*2+1]),m(n.faceVertexUvs[0],u[F[1]*2],u[F[1]*2+1],u[F[2]*2],u[F[2]*2+1],u[F[3]*2],u[F[3]*2+1])}}this.computeCentroids(),this.computeFaceNormals()};return l.prototype=Object.create(t.Geometry.prototype),i=this.extractUrlBase(n).substr(0,n.lastIndexOf("/")),s=n.split(i+"/")[1],o=new l,u=[{colorDiffuse:[0,0,0],colorSpecular:[0,0,0],colorAmbient:[1,1,1],opacity:1,mapDiffuse:s,wireframe:0}],a=this.initMaterials(u,i),this.needsTangents(a)&&o.computeTangents(),f=360*Math.atan2(.495*r.camera_width,r.camera_fx)/Math.PI,{geometry:o,materials:a,cameraOptions:{fov:f,up:new t.Vector3(-1,0,0)}}};var r=new n;e.factory("OeModel",["config","$http","$q","$window",function(e,t,n,i){var s={};return{get:function(e,i){var s=n.defer(),o;return t.get(e,{responseType:"arraybuffer",withCredentials:!0}).success(function(e,t,n,u){o=r.parseBinary(e,i),o!=null?s.resolve(o):s.reject("Could not parse the binary provided!")}).error(function(e,t){s.reject("Model failed to load!")}),s.promise},preloadTexture:function(e){var t=n.defer(),o;return s[e]?t.resolve(s[e]):(o=new Image,o.onload=function(){s[e]=o,i.setTimeout(function(){t.resolve(o)},250)},o.crossOrigin=r.crossOrigin,o.src=e),t.promise}}}])}),define("services/boot",["./index"],function(e){var t=window.appBootstrapData||{};e.factory("appBootstrapData",function(){return t||{}})}),window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e){var i=e[r];if(!_(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?D(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),P(i,t,n))}function B(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.6.2",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=M(i[r],"function"),M(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return H("flexWrap")},y.flexboxlegacy=function(){return H("boxDirection")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!H("indexedDB",e)},y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),_(f.backgroundColor,"rgba")},y.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),_(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")},y.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return H("backgroundSize")},y.borderimage=function(){return H("borderImage")},y.borderradius=function(){return H("borderRadius")},y.boxshadow=function(){return H("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return O("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return H("animationName")},y.csscolumns=function(){return H("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),_(f.backgroundImage,"gradient")},y.cssreflections=function(){return H("boxReflect")},y.csstransforms=function(){return!!H("transform")},y.csstransforms3d=function(){var e=!!H("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return H("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var j in y)L(y,j)&&(x=j.toLowerCase(),i[x]=y[j](),E.push((i[x]?"":"no-")+x));return i.input||B(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof s!="undefined"&&s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},A(""),a=l=null,function(e,t){function l(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function c(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function h(e){var t=a[e[o]];return t||(t={},u++,e[o]=u,a[u]=t),t}function p(e,n,s){n||(n=t);if(f)return n.createElement(e);s||(s=h(n));var o;return s.cache[e]?o=s.cache[e].cloneNode():i.test(e)?o=(s.cache[e]=s.createElem(e)).cloneNode():o=s.createElem(e),o.canHaveChildren&&!r.test(e)?s.frag.appendChild(o):o}function d(e,n){e||(e=t);if(f)return e.createDocumentFragment();n=n||h(e);var r=n.frag.cloneNode(),i=0,s=c(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function v(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?p(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function m(e){e||(e=t);var n=h(e);return g.shivCSS&&!s&&!n.hasCSS&&(n.hasCSS=!!l(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),f||v(e,n),e}var n=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,i=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s,o="_html5shiv",u=0,a={},f;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",s="hidden"in e,f=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){s=!0,f=!0}})();var g={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,supportsUnknownElements:f,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:m,createElement:p,createDocumentFragment:d};e.html5=g,m(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.mq=N,i.hasEvent=C,i.testProp=function(e){return D([e])},i.testAllProps=H,i.testStyles=T,i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),define("modernizr",function(e){return function(){var t,n;return t||e.Modernizr}}(this)),define("services/supports",["./index","modernizr","angular"],function(e,t,n){var r=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,i=navigator.userAgent.match(/Android/i),s=navigator.userAgent.match(/Chrome/i),o=n.copy(t),u=function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}};o.iOS=r,o.android=i,o.webgl=u(),o.chrome=s,o.iOS&&n.element(document.body).addClass("iOS"),e.value("supports",o)}),define("controllers/scene",["./index","threejs"],function(e,t){e.controller("SceneCtrl",["$scope","$location","Scene","$timeout","Page",function(e,t,n,r,i){function a(){u=r(function(){e.sleeping=e.isSleeping(),e.active=e.isActive(),a()},500)}var s=Math.random()*5e3+7e3,o=500,u;e.sleeping=!1,e.active=!1,e.isSleeping=function(){return Date.now()-e.lastInteraction>s},e.isActive=function(){return Date.now()-e.lastInteraction>o},n.get().then(function(n){e.scene=n,e.scene.shortUrl=t.protocol()+"://"+t.host()+(t.port()?":"+t.port():"")+"/s/"+e.scene.short_code,i.setTitle("Seene 3D photo by "+(e.scene.user.username||e.scene.user.name)+(e.scene.caption?": "+e.scene.caption:""))}),e.$on("$destroy",function(){r.cancel(u)}),a()}]),e.controller("SceneMetaCtrl",["$scope","$location","Scene","$sce",function(e,t,n,r){n.get().then(function(n){e.scene=n,e.embed={show:!1,dims:[{label:"480px",value:480},{label:"320px",value:320},{label:"256px",value:256}],url:[t.absUrl(),"embed"].join("/")},e.embed.selectedDim=e.embed.dims[0],e.twIframe=r.trustAsHtml(['<iframe allowtransparency="true" frameborder="0" scrolling="no"','src="https://platform.twitter.com/widgets/tweet_button.html','?text=Check out this 3D photo made with @seeneapp"','style="border:none; overflow:hidden; width:96px; height:30px;margin:0 auto;margin-top:15px""></iframe>'].join("")),e.fbLikeIframe=r.trustAsHtml(['<iframe src="',"https://www.facebook.com/plugins/like.php?href=",encodeURIComponent(t.absUrl()),'&amp;width=45px&amp;height=27&amp;colorscheme=light&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;send=false"','scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:30px;margin:0 auto;margin-top:15px" allowTransparency="true"></iframe>'].join(""))})}]),e.controller("SceneModelCtrl",["$scope","Scene","OeModel",function(e,t,n){var r,i,s,o;t.get().then(function(t){t=e.scene=t,i=e.model={url:t.model_url},s=i.url,o=t.poster.original,s&&o&&n.preloadTexture(o).then(function(t){n.get(s,o).then(function(t){e.model=t})})})}])}),define("controllers/nav",["./index"],function(e){e.controller("TopNavCtrl",["$scope","TopNavState",function(e,t){e.state=t}]),e.controller("HeroCtrl",["$scope","$location",function(e,t){function n(e){switch(!0){case/^\/s+\/.*?$/.test(e):return"idle";case/^\/?$/.test(e):return"full";default:return"info"}}e.$on("$routeChangeSuccess",function(r,i,s){e.state=n(t.path())})}])}),define("controllers/user",["./index"],function(e){e.controller("UserCtrl",["$scope","Scene",function(e,t){t.get().then(function(t){e.user=t.user,e.user.avatar=e.user.avatar.thumb_retina})}])}),define("controllers/editors-pick",["./index"],function(e){e.controller("EditorsPickCtrl",["$scope","$sce","appBootstrapData",function(e,t,n){e.embedUrl=t.trustAsResourceUrl((n.editorsPick||"http://seene.co/s/WbULpW")+"/embed")}])}),define("controllers/general",["./index"],function(e){e.controller("MainCtrl",["$scope","appName","appDownloadUrl","appBootstrapData","mapVariation","track","supports","$location","Page","$window",function(e,t,n,r,i,s,o,u,a,f){var l=function(){var e=""+f.location.pathname+f.location.search,n=e.replace("/","");a.setTitle(t+(n?": "+(n.length<=3?n.toUpperCase():n.charAt(0).toUpperCase()+n.slice(1)):": Share life in 3D"))},c=function(){s("event","webGL","detect","availability",o.webgl?1:0)};e.appName=t,e.appDownloadUrl=n,e.mapVariation=i,e.supports=o,e.lastInteraction=Date.now(),e.absUrl=u.absUrl(),e.$on("$routeChangeSuccess",function(t,n,r){var i=""+f.location.pathname+f.location.search;e.absUrl=u.absUrl(),s("pageview",i)}),e.trackInteraction=function(t){e.lastInteraction=Date.now()},e.externalLink=function(e){return f.location.href=e},e.replaceParentHref=function(e){return window.top.location=e},l(),c()}])}),void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var TWEEN=TWEEN||function(){var e=[];return{REVISION:"11dev",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){t=e.indexOf(t),-1!==t&&e.splice(t,1)},update:function(t){if(0===e.length)return!1;for(var n=0,r=e.length,t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n<r;)e[n].update(t)?n++:(e.splice(n,1),r--);return!0}}}();TWEEN.Tween=function(e){var t={},n={},r={},i=1e3,s=0,o=!1,u=0,a=null,f=TWEEN.Easing.Linear.None,l=TWEEN.Interpolation.Linear,c=[],h=null,p=!1,d=null,v=null,m;for(m in e)t[m]=parseFloat(e[m],10);this.to=function(e,t){return void 0!==t&&(i=t),n=e,this},this.start=function(i){TWEEN.add(this),p=!1,a=void 0!==i?i:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),a+=u;for(var s in n){if(n[s]instanceof Array){if(0===n[s].length)continue;n[s]=[e[s]].concat(n[s])}t[s]=e[s],0==t[s]instanceof Array&&(t[s]*=1),r[s]=t[s]||0}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(e){return u=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return o=e,this},this.easing=function(e){return f=e,this},this.interpolation=function(e){return l=e,this},this.chain=function(){return c=arguments,this},this.onStart=function(e){return h=e,this},this.onUpdate=function(e){return d=e,this},this.onComplete=function(e){return v=e,this},this.update=function(m){var y;if(m<a)return!0;!1===p&&(null!==h&&h.call(e),p=!0);var E=(m-a)/i,E=1<E?1:E,S=f(E);for(y in n){var x=t[y]||0,T=n[y];T instanceof Array?e[y]=l(T,S):("string"==typeof T&&(T=x+parseFloat(T,10)),"number"==typeof T&&(e[y]=x+(T-x)*S))}null!==d&&d.call(e,S);if(1==E){if(!(0<s)){null!==v&&v.call(e),y=0;for(E=c.length;y<E;y++)c[y].start(m);return!1}isFinite(s)&&s--;for(y in r)"string"==typeof n[y]&&(r[y]+=parseFloat(n[y],10)),o&&(E=r[y],r[y]=n[y],n[y]=E),t[y]=r[y];a=m+u}return!0}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return 1>(e*=2)?.5*e*e:-0.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return 1>(e*=2)?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return 1>(e*=2)?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return 1>(e*=2)?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:1>(e*=2)?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/.4)))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*2*Math.PI/.4)+1)},InOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),1>(e*=2)?-0.5*n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/.4):.5*n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*2*Math.PI/.4)+1)}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){return 1>(e*=2)?.5*e*e*(3.5949095*e-2.5949095):.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return.5>e?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.Linear;return 0>t?s(e[0],e[1],r):1<t?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){var n=0,r=e.length-1,i=Math.pow,s=TWEEN.Interpolation.Utils.Bernstein,o;for(o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*s(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(0>t&&(i=Math.floor(r=n*(1+t))),s(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):0>t?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):1<t?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1,r;if(e[t])return e[t];for(r=t;1<r;r--)n*=r;return e[t]=n}}(),CatmullRom:function(e,t,n,r,i){var e=.5*(n-e),r=.5*(r-t),s=i*i;return(2*t-2*n+e+r)*i*s+(-3*t+3*n-2*e-r)*s+e*i+t}}},define("tweenjs",function(e){return function(){var t,n;return t||e.TWEEN}}(this)),define("directives/obvi-models",["./index","threejs","tweenjs"],function(e,t,n){e.directive("obviModel",["onAnimate","onResize","onMouseUp","$timeout","debounce","$window","supports",function(e,r,i,s,o,u,a){return{restrict:"EA",link:function(f,l){var c,h,p,d,v,m,g,y,b,w,E,S,x=[],T=Math.min(.04/l[0].offsetWidth,35e-6),N=function(){c=l[0].offsetWidth,h=c,d&&v&&(d.aspect=c/h,d.updateProjectionMatrix(),v.setSize(c,h))},C=function(){p&&d&&(v.render(p,d),n.update()),w=e(C,f)},k=function(e){e=e||{};var n=e.fov||32,r=e.up=new t.Vector3(-1,0,0),i=new t.PerspectiveCamera(n,c/h,.01,100);return i.position.set(0,0,1),i.up=r,i.lookAt(p.position),i},L=function(){if(d){var e=f.pointer.leave,r=f.pointer.enter,i=f.pointer.down?T*18:T*12,s=e?0:-(f.pointer.x-c*.5)/c*i*400,o=e?0:-(f.pointer.y-h*.5)/h*i*400,u=(new t.Vector2(d.position.x,d.position.y)).distanceToSquared(new t.Vector2(o,s))*i,a=Math.max(.1,e?1e4:r?500:u*Math.exp(16)),l=e?n.Easing.Back.Out:r?n.Easing.Back.Out:n.Easing.Linear.None;return a=f.pointer.down&&!e?200:a*.5,A(new t.Vector2(o,s),a,l)}},A=function(e,r,i){if(d)return e=e||new t.Vector2,r=r||250,i=i||n.Easing.Linear.None,y&&y.stop(),y=y||new n.Tween(d.position),y.to({x:e.x,y:e.y},r).easing(i).onUpdate(function(){d.position.normalize(),d.lookAt(p.position)}).start(),y},O=function(e){e=e||{};if(f.pointer){var r=e.position||new t.Vector2,i=e.duration||250,s=e.easing||n.Easing.Linear.None,o=e.loop,u=e.onUpdate||function(){f.pointer.leave=!1},a=e.onStart||function(){f.pointer.leave=!1,f.pointer.enter=!0},l=e.onComplete||function(){f.pointer.enter=!1};return b&&b.stop(),b=b||new n.Tween(f.pointer),b.to({x:r.x,y:r.y},i).easing(s).repeat(o?1:0).yoyo(o?!0:!1).onUpdate(u).onStart(a).onComplete(l).start(),b}},M=function(){s(function(){s(function(){f.ready=!0,f.pointer.enter||D(0,!1,2e3)},500)},1e3)},_=function(){function e(e){var t=e.touches;return t?t[0]:null}function t(e){f.pointer.x=e.clientX||e.offsetX||e.layerX,f.pointer.y=e.clientY||e.offsetY||e.layerY}l.bind("touchstart",function(n){a.android&&n.preventDefault(),t(e(n)||n),f.pointer.enter=!0,f.pointer.leave=!1,f.pointer.down=!0}),l.bind("touchmove",function(n){t(e(n)||n)}),l.bind("touchend",function(n){a.android&&n.preventDefault(),t(e(n)||n),f.pointer.enter=!1,f.pointer.leave=!0,f.pointer.down=!1})},D=function(e,r,i,o){e=e||0,i=i||0,o=o||0;var u,a,l,p,d;r?(u=Math.floor(Math.random()*3e3+1e3),a=n.Easing.Linear.None,l=Math.floor(Math.max(0,Math.min(c-1,f.pointer.x*.5+Math.random()*c*.9-c*.5))),p=Math.floor(Math.max(0,Math.min(h-1,f.pointer.y*.5+Math.random()*h*.9-h*.5))),d=(new t.Vector2(l,p)).multiplyScalar(1.75)):(u=125,a=o===i*.5?n.Easing.Back.Out:n.Easing.Linear.None,d=P(e,20),e=o>=i*.5?e-1:e+1,o+=u),E&&s.cancel(E),O({position:d,duration:u,easing:a,loop:i?!0:!1});if(i&&o>=i){O({position:new t.Vector2(c*.5,h*.5),duration:u,easing:a,loop:!1,onComplete:function(){f.pointer.enter=!1,f.pointer.leave=!0}});return}return E=s(function(){return D(e,r,i,o)},u)},P=function(e,n){var r=c*.5,i=h*.5,n=n||30,s=e*n*Math.PI,o=r+s*Math.cos(s-e),u=i+s*Math.sin(s-e);return new t.Vector2(o,u)};N(),f.style=function(){return{height:c+"px"}},f.pointer={x:c*.5,y:h*.5},f.onPointerMove=function(e){f.pointer.x=e.offsetX||e.layerX,f.pointer.y=e.offsetY||e.layerY},f.onPointerDown=function(e){e.preventDefault(),f.pointer.down=!0},f.onPointerUp=function(e){f.pointer.down=!1},f.onPointerEnter=function(e){f.pointer.enter=!0,f.pointer.leave=!1},f.onPointerLeave=function(e){f.pointer.enter=!1,f.pointer.leave=!0},f.$watch("model",function(e){e&&e.geometry&&e.materials&&(g=new t.Mesh(e.geometry,e.materials[0]),e.materials[0].overdraw=!0,p.add(g),M()),e&&e.cameraOptions&&(d=k(e.cameraOptions))}),f.$on("$destroy",function(){u.cancelAnimationFrame(w),s.cancel(E),angular.forEach(x,function(e){e()})}),f.$watch("pointer.x",L),f.$watch("pointer.y",L),f.$watch("pointer.leave",function(){f.pointer.x=c*.5,f.pointer.y=h*.5}),x.push(r(o(N,25,!0))),x.push(i(L)),x.push(i(function(){f.pointer.down=!1})),_(),p=new t.Scene,m=new t.AmbientLight(16777215),p.add(m),v=a.webgl?new t.WebGLRenderer:new t.CanvasRenderer,v.setSize(c,h),l.append(v.domElement),f.$watch("sleeping",function(e){e?E=D(0,!0):(s.cancel(E),b&&b.stop())}),l.bind("mousemove touchmove devicemotion",function(e){b&&b.stop(),s.cancel(E)}),C()}}}])}),define("directives/general",["./index"],function(e){e.directive("errSrc",function(){return{link:function(e,t,n){t.bind("error",function(){t.attr("src",n.errSrc)})}}}),e.directive("oeTap",function(){return function(e,t,n){var r=!1;return t.bind("click",function(){if(!r)return e.$apply(n.oeTap)}),t.bind("touchstart",function(e){return r=!0}),t.bind("touchmove",function(e){return r=!1,e.stopImmediatePropagation()}),t.bind("touchend",function(){if(r)return e.$apply(n.oeTap)})}}),e.directive("oeMove",function(){return function(e,t,n){t.bind("mousemove touchmove",function(t){return e.$apply(n.oeMove)})}}),e.directive("oeTrack",["track",function(e){return function(t,n,r){var i,s,o,u;u=r.oeTrackBind,u=u==="all"?"click dblclick mousedown mouseup mouseover mousemove mouseout mouseenter mouseleave touchstart touchmove touchend keydown keyup keypress submit focus blur":u,u=u?u:"click dblclick touchstart touchend",n.bind(u,function(t){s=r.oeTrack,i=t.type,o=n[0].tagName,e("event",o,i,s)})}}]),e.directive("prepVideo",[function(){return{link:function(e,t,n,r){t.bind("click touchstart",function(){t[0].play()}),t.bind("play",function(){this.getAttribute("controls")!=="true"&&this.setAttribute("controls","true"),this.removeAttribute("controls")})}}}])}),function(e){function z(e,t){return function(n){return Q(e.call(this,n),t)}}function W(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function X(){}function V(e){at(e),J(this,e)}function $(e){var t=nt(e),n=t.year||0,r=t.month||0,i=t.week||0,s=t.day||0,o=t.hour||0,u=t.minute||0,a=t.second||0,f=t.millisecond||0;this._input=e,this._milliseconds=+f+a*1e3+u*6e4+o*36e5,this._days=+s+i*7,this._months=+r+n*12,this._data={},this._bubble()}function J(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function K(e){return e<0?Math.ceil(e):Math.floor(e)}function Q(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function G(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months,a,f;s&&e._d.setTime(+e._d+s*r);if(o||u)a=e.minute(),f=e.hour();o&&e.date(e.date()+o*r),u&&e.month(e.month()+u*r),s&&!i&&t.updateOffset(e);if(o||u)e.minute(a),e.hour(f)}function Y(e){return Object.prototype.toString.call(e)==="[object Array]"}function Z(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function et(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&it(e[o])!==it(t[o]))&&s++;return s+i}function tt(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=B[e]||j[t]||t}return e}function nt(e){var t={},n,r,i;for(r in e)e.hasOwnProperty(r)&&(n=tt(r),n&&(t[n]=e[r]));return t}function rt(n){var r,i;if(n.indexOf("week")===0)r=7,i="day";else{if(n.indexOf("month")!==0)return;r=12,i="month"}t[n]=function(s,o){var u,a,f=t.fn._lang[n],l=[];typeof s=="number"&&(o=s,s=e),a=function(e){var n=t().utc().set(i,e);return f.call(t.fn._lang,n,s||"")};if(o!=null)return a(o);for(u=0;u<r;u++)l.push(a(u));return l}}function it(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(t>=0?n=Math.floor(t):n=Math.ceil(t)),n}function st(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function ot(e){return ut(e)?366:365}function ut(e){return e%4===0&&e%100!==0||e%400===0}function at(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[o]<0||e._a[o]>11?o:e._a[u]<1||e._a[u]>st(e._a[s],e._a[o])?u:e._a[a]<0||e._a[a]>23?a:e._a[f]<0||e._a[f]>59?f:e._a[l]<0||e._a[l]>59?l:e._a[c]<0||e._a[c]>999?c:-1,e._pf._overflowDayOfYear&&(t<s||t>u)&&(t=u),e._pf.overflow=t)}function ft(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function lt(e){return e._isValid==null&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0)),e._isValid}function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ht(e,t){return t.abbr=e,h[e]||(h[e]=new X),h[e].set(t),h[e]}function pt(e){delete h[e]}function dt(e){var n=0,r,i,s,o,u=function(e){if(!h[e]&&p)try{require("./lang/"+e)}catch(t){}return h[e]};if(!e)return t.fn._lang;if(!Y(e)){i=u(e);if(i)return i;e=[e]}while(n<e.length){o=ct(e[n]).split("-"),r=o.length,s=ct(e[n+1]),s=s?s.split("-"):null;while(r>0){i=u(o.slice(0,r).join("-"));if(i)return i;if(s&&s.length>=r&&et(o,s,!0)>=r-1)break;r--}n++}return t.fn._lang}function vt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function mt(e){var t=e.match(g),n,r;for(n=0,r=t.length;n<r;n++)R[t[n]]?t[n]=R[t[n]]:t[n]=vt(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=t[n]instanceof Function?t[n].call(i,e):t[n];return s}}function gt(e,t){return e.isValid()?(t=yt(t,e.lang()),F[t]||(F[t]=mt(t)),F[t](e)):e.lang().invalidDate()}function yt(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;y.lastIndex=0;while(n>=0&&y.test(e))e=e.replace(y,r),y.lastIndex=0,n-=1;return e}function bt(e,t){var n;switch(e){case"DDDD":return E;case"YYYY":case"GGGG":case"gggg":return S;case"YYYYY":case"GGGGG":case"ggggg":return x;case"S":case"SS":case"SSS":case"DDD":return w;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return N;case"a":case"A":return dt(t._l)._meridiemParse;case"X":return L;case"Z":case"ZZ":return C;case"T":return k;case"SSSS":return T;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return b;default:return n=new RegExp(kt(Ct(e.replace("\\","")),"i")),n}}function wt(e){var t=(C.exec(e)||[])[0],n=(t+"").match(D)||["-",0,0],r=+(n[1]*60)+it(n[2]);return n[0]==="+"?-r:r}function Et(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":t!=null&&(i[o]=it(t)-1);break;case"MMM":case"MMMM":r=dt(n._l).monthsParse(t),r!=null?i[o]=r:n._pf.invalidMonth=t;break;case"D":case"DD":t!=null&&(i[u]=it(t));break;case"DDD":case"DDDD":t!=null&&(n._dayOfYear=it(t));break;case"YY":i[s]=it(t)+(it(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":i[s]=it(t);break;case"a":case"A":n._isPm=dt(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[a]=it(t);break;case"m":case"mm":i[f]=it(t);break;case"s":case"ss":i[l]=it(t);break;case"S":case"SS":case"SSS":case"SSSS":i[c]=it(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=wt(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function St(e){var n,r,i=[],l,c,h,p,d,v,m,g;if(e._d)return;l=Tt(e),e._w&&e._a[u]==null&&e._a[o]==null&&(h=function(n){return n?n.length<3?parseInt(n,10)>68?"19"+n:"20"+n:n:e._a[s]==null?t().weekYear():e._a[s]},p=e._w,p.GG!=null||p.W!=null||p.E!=null?d=jt(h(p.GG),p.W||1,p.E,4,1):(v=dt(e._l),m=p.d!=null?Dt(p.d,v):p.e!=null?parseInt(p.e,10)+v._week.dow:0,g=parseInt(p.w,10)||1,p.d!=null&&m<v._week.dow&&g++,d=jt(h(p.gg),g,m,v._week.doy,v._week.dow)),e._a[s]=d.year,e._dayOfYear=d.dayOfYear),e._dayOfYear&&(c=e._a[s]==null?l[s]:e._a[s],e._dayOfYear>ot(c)&&(e._pf._overflowDayOfYear=!0),r=_t(c,0,e._dayOfYear),e._a[o]=r.getUTCMonth(),e._a[u]=r.getUTCDate());for(n=0;n<3&&e._a[n]==null;++n)e._a[n]=i[n]=l[n];for(;n<7;n++)e._a[n]=i[n]=e._a[n]==null?n===2?1:0:e._a[n];i[a]+=it((e._tzm||0)/60),i[f]+=it((e._tzm||0)%60),e._d=(e._useUTC?_t:Mt).apply(null,i)}function xt(e){var t;if(e._d)return;t=nt(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],St(e)}function Tt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Nt(e){e._a=[],e._pf.empty=!0;var t=dt(e._l),n=""+e._i,r,i,s,o,u,f=n.length,l=0;s=yt(e._f,t).match(g)||[];for(r=0;r<s.length;r++)o=s[r],i=(bt(o,e).exec(n)||[])[0],i&&(u=n.substr(0,n.indexOf(i)),u.length>0&&e._pf.unusedInput.push(u),n=n.slice(n.indexOf(i)+i.length),l+=i.length),R[o]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(o),Et(o,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=f-l,n.length>0&&e._pf.unusedInput.push(n),e._isPm&&e._a[a]<12&&(e._a[a]+=12),e._isPm===!1&&e._a[a]===12&&(e._a[a]=0),St(e),at(e)}function Ct(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function kt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Lt(e){var t,n,r,i,s;if(e._f.length===0){e._pf.invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++){s=0,t=J({},e),ft(t),t._f=e._f[i],Nt(t);if(!lt(t))continue;s+=t._pf.charsLeftOver,s+=t._pf.unusedTokens.length*10,t._pf.score=s;if(r==null||s<r)r=s,n=t}J(e,n||t)}function At(e){var t,n=e._i,r=A.exec(n);if(r){e._pf.iso=!0;for(t=4;t>0;t--)if(r[t]){e._f=M[t-1]+(r[6]||" ");break}for(t=0;t<4;t++)if(_[t][1].exec(n)){e._f+=_[t][0];break}C.exec(n)&&(e._f+="Z"),Nt(e)}else e._d=new Date(n)}function Ot(t){var n=t._i,r=d.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):typeof n=="string"?At(t):Y(n)?(t._a=n.slice(0),St(t)):Z(n)?t._d=new Date(+n):typeof n=="object"?xt(t):t._d=new Date(n)}function Mt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<1970&&u.setFullYear(e),u}function _t(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function Dt(e,t){if(typeof e=="string")if(!isNaN(e))e=parseInt(e,10);else{e=t.weekdaysParse(e);if(typeof e!="number")return null}return e}function Pt(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Ht(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=i<45&&["s",i]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",r(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Pt.apply({},f)}function Bt(e,n,r){var i=r-n,s=r-e.day(),o;return s>i&&(s-=7),s<i-7&&(s+=7),o=t(e).add("d",s),{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function jt(e,t,n,r,i){var s=(new Date(Date.UTC(e,0))).getUTCDay(),o,u;return n=n!=null?n:i,o=i-s+(s>r?7:0),u=7*(t-1)+(n-i)+o+1,{year:u>0?e:e-1,dayOfYear:u>0?u:ot(e-1)+u}}function Ft(e){var n=e._i,r=e._f;return typeof e._pf=="undefined"&&ft(e),n===null?t.invalid({nullInput:!0}):(typeof n=="string"&&(e._i=n=dt().preparse(n)),t.isMoment(n)?(e=J({},n),e._d=new Date(+n._d)):r?Y(r)?Lt(e):Nt(e):Ot(e),new V(e))}function It(e,n){t.fn[e]=t.fn[e+"s"]=function(e){var r=this._isUTC?"UTC":"";return e!=null?(this._d["set"+r+n](e),t.updateOffset(this),this):this._d["get"+r+n]()}}function qt(e){t.duration.fn[e]=function(){return this._data[e]}}function Rt(e,n){t.duration.fn["as"+e]=function(){return+this/n}}function Ut(e){var n=!1,r=t;if(typeof ender!="undefined")return;e?this.moment=function(){return!n&&console&&console.warn&&(n=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),r.apply(null,arguments)}:this.moment=t}var t,n="2.4.0",r=Math.round,i,s=0,o=1,u=2,a=3,f=4,l=5,c=6,h={},p=typeof module!="undefined"&&module.exports,d=/^\/?Date\((\-?\d+)/i,v=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,m=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,g=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,y=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,b=/\d\d?/,w=/\d{1,3}/,E=/\d{3}/,S=/\d{1,4}/,x=/[+\-]?\d{1,6}/,T=/\d+/,N=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,C=/Z|[\+\-]\d\d:?\d\d/i,k=/T/i,L=/[\+\-]?\d+(\.\d{1,3})?/,A=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,O="YYYY-MM-DDTHH:mm:ssZ",M=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],_=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],D=/([\+\-]|\d\d)/gi,P="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),H={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},B={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},j={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},F={},I="DDD w W M D d".split(" "),q="M D H h m s w W".split(" "),R={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return Q(this.year()%100,2)},YYYY:function(){return Q(this.year(),4)},YYYYY:function(){return Q(this.year(),5)},gg:function(){return Q(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return Q(this.weekYear(),5)},GG:function(){return Q(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return Q(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return it(this.milliseconds()/100)},SS:function(){return Q(it(this.milliseconds()/10),2)},SSS:function(){return Q(this.milliseconds(),3)},SSSS:function(){return Q(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+Q(it(e/60),2)+":"+Q(it(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+Q(it(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},U=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];while(I.length)i=I.pop(),R[i+"o"]=W(R[i],i);while(q.length)i=q.pop(),R[i+i]=z(R[i],2);R.DDDD=z(R.DDD,3),J(X.prototype,{set:function(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i;this._monthsParse||(this._monthsParse=[]);for(n=0;n<12;n++){this._monthsParse[n]||(r=t.utc([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i"));if(this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var n,r,i;this._weekdaysParse||(this._weekdaysParse=[]);for(n=0;n<7;n++){this._weekdaysParse[n]||(r=t([2e3,1]).day(n),i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i"));if(this._weekdaysParse[n].test(e))return n}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return(e+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n=="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Bt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,n,r,i){return typeof r=="boolean"&&(i=r,r=e),Ft({_i:t,_f:n,_l:r,_strict:i,_isUTC:!1})},t.utc=function(t,n,r,i){var s;return typeof r=="boolean"&&(i=r,r=e),s=Ft({_useUTC:!0,_isUTC:!0,_l:r,_i:t,_f:n,_strict:i}).utc(),s},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=t.isDuration(e),i=typeof e=="number",s=r?e._input:i?{}:e,o=null,h,p,d,g,y;return i?n?s[n]=e:s.milliseconds=e:(o=v.exec(e))?(h=o[1]==="-"?-1:1,s={y:0,d:it(o[u])*h,h:it(o[a])*h,m:it(o[f])*h,s:it(o[l])*h,ms:it(o[c])*h}):!(o=m.exec(e))||(h=o[1]==="-"?-1:1,d=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*h},s={y:d(o[2]),M:d(o[3]),d:d(o[4]),h:d(o[5]),m:d(o[6]),s:d(o[7]),w:d(o[8])}),p=new $(s),r&&e.hasOwnProperty("_lang")&&(p._lang=e._lang),p},t.version=n,t.defaultFormat=O,t.updateOffset=function(){},t.lang=function(e,n){var r;return e?(n?ht(ct(e),n):n===null?(pt(e),e="en"):h[e]||dt(e),r=t.duration.fn._lang=t.fn._lang=dt(e),r._abbr):t.fn._lang._abbr},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),dt(e)},t.isMoment=function(e){return e instanceof V},t.isDuration=function(e){return e instanceof $};for(i=U.length-1;i>=0;--i)rt(U[i]);t.normalizeUnits=function(e){return tt(e)},t.invalid=function(e){var n=t.utc(NaN);return e!=null?J(n._pf,e):n._pf.userInvalidated=!0,n},t.parseZone=function(e){return t(e).parseZone()},J(t.fn=V.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return gt(t(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return lt(this)},isDSTShifted:function(){return this._a?this.isValid()&&et(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return J({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var n=gt(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),G(this,r,1),this},subtract:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),G(this,r,-1),this},diff:function(e,n,r){var i=this._isUTC?t(e).zone(this._offset||0):t(e).local(),s=(this.zone()-i.zone())*6e4,o,u;return n=tt(n),n==="year"||n==="month"?(o=(this.daysInMonth()+i.daysInMonth())*432e5,u=(this.year()-i.year())*12+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,u-=(this.zone()-t(this).startOf("month").zone()-(i.zone()-t(i).startOf("month").zone()))*6e4/o,n==="year"&&(u/=12)):(o=this-i,u=n==="second"?o/1e3:n==="minute"?o/6e4:n==="hour"?o/36e5:n==="day"?(o-s)/864e5:n==="week"?(o-s)/6048e5:o),r?u:K(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().zone(this.zone()).startOf("day"),"days",!0),n=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return ut(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Dt(e,this.lang()),this.add({d:e-t})):t},month:function(e){var n=this._isUTC?"UTC":"",r;if(e!=null){if(typeof e=="string"){e=this.lang().monthsParse(e);if(typeof e!="number")return this}return r=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(r,this.daysInMonth())),t.updateOffset(this),this}return this._d["get"+n+"Month"]()},startOf:function(e){e=tt(e);switch(e){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"?this.weekday(0):e==="isoWeek"&&this.isoWeekday(1),this},endOf:function(e){return e=tt(e),this.startOf(e).add(e==="isoWeek"?"week":e,1).subtract("ms",1)},isAfter:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)===+t(e).startOf(n)},min:function(e){return e=t.apply(null,arguments),e<this?this:e},max:function(e){return e=t.apply(null,arguments),e>this?this:e},zone:function(e){var n=this._offset||0;return e==null?this._isUTC?n:this._d.getTimezoneOffset():(typeof e=="string"&&(e=wt(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,n!==e&&G(this,t.duration(n-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e?e=t(e).zone():e=0,(this.zone()-e)%60===0},daysInMonth:function(){return st(this.year(),this.month())},dayOfYear:function(e){var n=r((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add("d",e-n)},weekYear:function(e){var t=Bt(this,this.lang()._week.dow,this.lang()._week.doy).year;return e==null?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Bt(this,1,4).year;return e==null?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},isoWeek:function(e){var t=Bt(this,1,4).week;return e==null?t:this.add("d",(e-t)*7)},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return e==null?t:this.add("d",e-t)},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=tt(e),this[e]()},set:function(e,t){return e=tt(e),typeof this[e]=="function"&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=dt(t),this)}});for(i=0;i<P.length;i++)It(P[i].toLowerCase().replace(/s$/,""),P[i]);It("year","FullYear"),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.toJSON=t.fn.toISOString,J(t.duration.fn=$.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u;r.milliseconds=e%1e3,i=K(e/1e3),r.seconds=i%60,s=K(i/60),r.minutes=s%60,o=K(s/60),r.hours=o%24,t+=K(o/24),r.days=t%30,n+=K(t/30),r.months=n%12,u=K(n/12),r.years=u},weeks:function(){return K(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+it(this._months/12)*31536e6},humanize:function(e){var t=+this,n=Ht(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,n){var r=t.duration(e,n);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(e,n){var r=t.duration(e,n);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(e){return e=tt(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=tt(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:t.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(i in H)H.hasOwnProperty(i)&&(Rt(i,H[i]),qt(i.toLowerCase()));Rt("Weeks",6048e5),t.duration.fn.asMonths=function(){return(+this-this.years()*31536e6)/2592e6+this.years()*12},t.lang("en",{ordinal:function(e){var t=e%10,n=it(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),p?(module.exports=t,Ut(!0)):typeof define=="function"&&define.amd?define("moment",["require","exports","module"],function(n,r,i){return i.config().noGlobal!==!0&&Ut(i.config().noGlobal===e),t}):Ut()}.call(this),define("filters/date",["./index","moment"],function(e,t){e.filter("fromNow",[function(){return function(e){return t(e).fromNow()}}])}),define("experiments/test-map",[],function(){return[{name:"Embed variants",reset:!0,pathRegex:/^\/?$/,conversions:{click:["appstore-badge","topnav-download","footnav-download"]},variants:[{name:"B",changes:{WbULpW:"BhgRgP"}},{name:"C",changes:{WbULpW:"vHti1y"}},{name:"D",changes:{WbULpW:"DZyCcL"}},{name:"E",changes:{WbULpW:"xFvwVL"}}]},{name:"Home copy variants",reset:!1,pathRegex:/^\/?$/,conversions:{click:["appstore-badge","topnav-download","footnav-download"]},variants:[{name:"B",changes:{"views/home-story-2.html":"views/home-story-2.html"}}]}]}),define("experiments/tracking",["./index","./test-map"],function(e,t){var n=function(e){return e[Math.floor(Math.random()*e.length)]};e.value("changeMap",{}),e.factory("idPrefix",function(){return function(){return"$_"}}),e.run(["Abba","changeMap","$rootScope","idPrefix",function(e,n,r,i){e!=null&&angular.forEach(t,function(t,s){var o,u,a;t.name!=null&&t.variants.length?(o=e(t.name),angular.forEach(t.variants,function(e,t){if(e.name==null)return;u=e.weight||1,o.variant(e.name,{weight:u},function(){angular.forEach(e.changes,function(e,t){n[i()+t]=e})})}),o.control(),r.$apply(function(){t.reset&&o.reset(),o.start()})):console.error("ABBA: bad experiment definition, will not run test - ",t)})}]),e.factory("mapVariation",["changeMap","idPrefix",function(e,t){return function(n){var r,i,s,o;return angular.forEach(e,function(e,r){o=new RegExp(r.replace(t(),""),"g"),i=o.test(n),i&&(s=e)}),s||n}}]),e.factory("track",["Abba","Ga",function(e,n){return function(){var r=Array.prototype.slice.call(arguments,0);angular.forEach(t,function(t){t.conversions&&angular.forEach(t.conversions,function(n,i){angular.forEach(n,function(n,s){if(r.indexOf(n)!==-1&&r.indexOf(i)!==-1){if(t.pathRegex&&!t.pathRegex.test(window.location.pathname))return;try{e(t.name).complete()}catch(o){throw o}}})})}),n.apply(null,["send"].concat(r))}}])}),define("impl-main",["./services/general","./services/models","./services/nav","./services/abba","./services/ga","./services/oe","./services/boot","./services/supports","./controllers/scene","./controllers/nav","./controllers/user","./controllers/editors-pick","./controllers/general","./directives/obvi-models","./directives/general","./filters/date","./experiments/tracking"],function(){}),define("routes-embed",["./app","./config"],function(e){return function(){e.config(["$locationProvider",function(e){e.html5Mode(!0).hashPrefix("!")}])}}),define("routes-main",["./app","./config"],function(e){return function(){e.config(["$routeProvider","$locationProvider","config",function(e,t,n){e.when("/",{templateUrl:"views/home/show.html.tpl",controller:"MainCtrl"}).when("/s/:short_code",{templateUrl:"views/scene/show.html.tpl",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about/show.html.tpl",controller:"MainCtrl"}).when("/support",{templateUrl:"views/support/show.html.tpl",controller:"MainCtrl"}).when("/faq",{templateUrl:"views/faq/show.html.tpl",controller:"MainCtrl"}).when("/legal/tos",{templateUrl:"views/legal/terms.html.tpl",controller:"MainCtrl"}).when("/legal/privacy",{templateUrl:"views/legal/privacy.html.tpl",controller:"MainCtrl"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}])}}),define("bootstrap",["require","angular","app","domReady","./impl-main","./routes-embed","./routes-main"],function(e,t){return function(n){n=n||{};var r;e(["domReady!"],function(i){return n.mode&&n.mode==="embedded"?(r=e("./routes-embed")(),t.bootstrap(i,["app"])):(r=e("./routes-main")(),t.bootstrap(i,["app"]))})}}),require.config({paths:{angular:"shim/angular",ngResource:"/bower_components/angular/angular-resource",threejs:"shim/three",tweenjs:"/bower_components/tweenjs/build/tween.min",domReady:"/bower_components/requirejs-domready/domReady",modernizr:"/bower_components/modernizr/modernizr",rnLazy:"/bower_components/rn-lazy/src/lazy",videojs:"/bower_components/video.js/video",templates:"templates",ngTouch:"/bower_components/angular/angular-touch",ngRoute:"/bower_components/angular/angular-route",ngAnimate:"/bower_components/angular-animate/angular-animate",restangular:"/bower_components/restangular/src/restangular",lodash:"/bower_components/lodash/lodash",moment:"/bower_components/momentjs/moment",compiledTemplates:"compiledTemplates"},baseUrl:"scripts",shim:{ngResource:{deps:["angular"],exports:"angular.resource"},rnLazy:{deps:["angular"]},tweenjs:{exports:"TWEEN"},modernizr:{exports:"Modernizr"},videojs:{exports:"videojs"},ngTouch:{deps:["angular"]},ngRoute:{deps:["angular"]},ngAnimate:{deps:["angular"]},restangular:{deps:["angular","lodash"]},lodash:{exports:"_"}},priority:["angular"]}),require(["./bootstrap"],function(e){e()}),define("main",function(){});